<!-- Tool to visualize Slooh telescope FoV and mosaic grid. Jarmo Ruuth, 2018-2019 -->
<!DOCTYPE HTML>
<html lang = "en">
<head>
<link rel="icon" type="image/png" sizes="16x16" href="AM-favicon.png">
<!-- include Aladin Lite CSS file in the head section of your page -->
<link rel="stylesheet" href="https://aladin.u-strasbg.fr/AladinLite/api/v2/latest/aladin.min.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>

.header {
  background: lightgray;
}

.h2text {
  padding: 20px;
  text-align: center;
}

.homebutton {
    float:left;
    padding: 5px;
    margin: 5px;
    background:grey;
}

.banner {
  padding: 5px;
  margin: 5px;
  background: whitesmoke;
  color: darkred;
}

.flex-container-top {
  display: flex;
  flex-direction: row;
  background: white;
}

.flex-container-top > div {
  margin: 2px;
  padding: 2px;
}

.flex-container-top2 {
  display: flex;
  flex-direction: row;
  background: white;
}

.flex-container-top2 > div {
  margin: 2px;
  padding: 2px;
}

.flex-container {
  display: flex;
  flex-direction: row;
  background: white;
}

.flex-container > div {
  margin: 2px;
  padding: 2px;
}

p {
    margin: 0px;
    padding: 0px;
}

.footer {
  padding: 10px;
  background: whitesmoke;
}

</style>
    <title>AstroMosaic</title>
    <meta charset = "UTF-8" />
</head>

<body>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.1.min.js" charset="utf-8"></script>
<script type="text/javascript" src="https://aladin.u-strasbg.fr/AladinLite/api/v2/latest/aladin.min.js" charset="utf-8"></script>

<div class="header">
        <div class="homebutton">
            <a href="https://ruuth.xyz/AstroImageTools.html">
                <img src="AMT-favicon.png" alt="Home" >
            </a>        
        </div>
        <div class="h2text">
            <h2 id="astro_mosaic_title" >Astro Mosaic for Slooh telescopes</h2>
        </div>
</div>
    
<div id="firstDiv" class="flex-container-top">
    <div>
        <form action="javascript:ViewTarget()">
            Target:<br>
            <input type="text" id="target"><br>
        </form>
    </div>
    <div>
        <form>
            Telescope:<br>
            <select id="telescope" onchange="javascript:ViewImage()">
                <option value="T1">T1</option>
                <option value="T2">T2</option>
                <option value="T2UWF">T2 UWF</option>
                <option value="T3">T3</option>
                <option value="T4">T4</option>
                <option value="C1">C1</option>
                <option value="C1UWF">C1 UWF</option>
                <option value="C2">C2</option>
                <option value="C2FR">C2FR</option>
            </select>
        </form>
    </div>
    <div>
        <form>
            View:<br>
            <select id="grid_type" onchange="javascript:ViewImage()">
                <option value="fov">FoV</option>
                <option value="mosaic">Mosaic grid</option>
                <option value="panels">Mosaic panels</option>
            </select>
        </form>
    </div>
    <div>
        <form action="javascript:ViewImage()">
            Mosaic overlap (%):<br>
            <input type="number" id="overlap_percentage" min="1" max="100">
        </form>    
    </div>
    <div>
        <form action="javascript:ViewImage()">
            Grid size (x,y):<br>
            <input type="number" id="size_x" min="1" max="10">
            <input type="number" id="size_y" min="1" max="10">
        </form>    
    </div>
    <div>
        <form action="javascript:ViewImage()">
            Date (YYYY-MM-DD):<br>
            <input type="text" id="view_date">
        </form>    
    </div>
    <div>
        <br>
        <button onclick="ViewImage()">View image</button>
    </div>
    <div>
        <br>
        <p id="error_text"></p>
    </div>
</div>

<div id="secondDiv" class="flex-container-top2">
    <div><p id="slooh500txt">Slooh 500:</p></div>
    <div id ="slooh500Div">
    </div>
    <div>
        <form>
            Filter:
            <select id="slooh500filter" onchange="javascript:filterChanged()">
                <option value="all">All</option>
                <option value="0">0°</option>
                <option value="15">15°</option>
                <option value="30">30°</option>
                <option value="45">45°</option>
                <option value="60">60°</option>
                <option value="75">75°</option>
            </select>
        </form>
    </div>
    <div>
        <form action="javascript:filterTimeChanged()">
            Time:
            <input type="text" id="filter_time" size=5>
        </form>    
    </div>
    <div>
        <form>
            Moon:
            <select id="slooh500moonFilter" onchange="javascript:filterChanged()">
                <option value="all">All</option>
                <option value="45">45°</option>
                <option value="90">90°</option>
                <option value="135">145°</option>
            </select>
        </form>
    </div>
    <div>
        <form action="javascript:ViewImage()">
            <input type="checkbox" id="wikiCheckbox">Wiki
        </form>    
    </div>
</div>

<div class="flex-container">
    <div id="target-image-div">
    <div id="aladin-lite-div-00" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-00"></p>
    </div>
    <div>
    <div id="aladin-lite-div-01" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-01"></p>
    </div>
    <div>
    <div id="aladin-lite-div-02" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-02"></p>
    </div>
    <div>
    <div id="aladin-lite-div-03" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-03"></p>
    </div>
    <div>
    <div id="aladin-lite-div-04" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-04"></p>
    </div>
</div>
<div class="flex-container">
    <div  id="day-visibility-div">
    <div id="aladin-lite-div-10" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-10"></p>
    </div>
    <div>
    <div id="aladin-lite-div-11" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-11"></p>
    </div>
    <div>
    <div id="aladin-lite-div-12" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-12"></p>
    </div>
    <div>
    <div id="aladin-lite-div-13" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-13"></p>
    </div>
    <div>
    <div id="aladin-lite-div-14" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-14"></p>
    </div>
</div>
<div class="flex-container">
    <div id="year-visibility-div">
    <div id="aladin-lite-div-20" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-20"></p>
    </div>
    <div>
    <div id="aladin-lite-div-21" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-21"></p>
    </div>
    <div>
    <div id="aladin-lite-div-22" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-22"></p>
    </div>
    <div>
    <div id="aladin-lite-div-23" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-23"></p>
    </div>
    <div>
    <div id="aladin-lite-div-24" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-24"></p>
    </div>
</div>
<div class="flex-container">
    <div>
    <div id="aladin-lite-div-30" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-30"></p>
    </div>
    <div>
    <div id="aladin-lite-div-31" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-31"></p>
    </div>
    <div>
    <div id="aladin-lite-div-32" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-32"></p>
    </div>
    <div>
    <div id="aladin-lite-div-33" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-33"></p>
    </div>
    <div>
    <div id="aladin-lite-div-34" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-34"></p>
    </div>
</div>
<div class="flex-container">
    <div>
    <div id="aladin-lite-div-40" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-40"></p>
    </div>
    <div>
    <div id="aladin-lite-div-41" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-41"></p>
    </div>
    <div>
    <div id="aladin-lite-div-42" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-42"></p>
    </div>
    <div>
    <div id="aladin-lite-div-43" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-43"></p>
    </div>
    <div>
    <div id="aladin-lite-div-44" style="width:300px;height:300px;"></div>
    <br>
    <p id="panel-text-44"></p>
    </div>
</div>

<div class="footer">
    <p>Author: Jarmo Ruuth. Feedback: <a href="https://forums.ruuth.xyz">forums.ruuth.xyz</a> or <a href="mailto:astroimagetools@gmail.com">astroimagetools@gmail.com</a></p>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

var version_text = 
    "Version 1.21<br>"+
    "- Added C2 and C2FR, where FR is the scope with Focal Reducer<br>"+
    "Version 1.20<br>"+
    "- Added Slooh 500 target name layer, enabled by default<br>"+
    "- Added map view control button<br>"+
    "- Added full screen control button<br>"+
    "Version 1.19<br>"+
    "- Added C2 telescope<br>"+
    "Version 1.18<br>"+
    "- Added link to my other Astro Image Tools at https://ruuth.xyz/AstroImageTools.html<br>"+
    "Version 1.17<br>"+
    "- Multiple target coordinates can be listed in target field separated by comma<br>"+
    "- Coordinate Format HHMMSS DDMMSS is also accepted<br>"+
    "Version 1.16<br>"+
    "- Added visible/not visible line type to year visibility<br>"+
    "Version 1.15<br>"+
    "- Fixed a few Slooh 500 list coordinates<br>"+
    "Version 1.14<br>"+
    "- Fixed ra/dec parsing with missing seconds part<br>"+
    "Version 1.13<br>"+
    "- moon distance filter for Slooh 500 list<br>"+
    "- more Slooh 500 list filter points<br>"+
    "- separate field for error text<br>"+
    "Version 1.12<br>"+
    "- changes to work better on mobile devices<br>"+
    "Version 1.11<br>"+
    "- mosaic grid max size increased to 10x10<br>"+
    "- target coordinates can be given also in RA.ddd DEC.ddd format<br>"+
    "- mosaic grid coordinates are shown as a table<br>"+
    "Version 1.10<br>"+
    "- added Slooh 500 list with altitude and time filtering<br>"+
    "- added embedded Wikipedia page if Wiki checkbox is checked<br>"+
    "- mosaic panel view shows actual panels up to size 5x5<br>"+
    "Version 1.00<br>"+
    "- basic FoV, mosaic grid and panels views<br>"+
    "- target visibility during one night and next 12 months";

var startup_image = "Horsehead Nebula";

var image_panel = "aladin-lite-div-00";
var image_panel_text = "panel-text-00";
var wiki_panel = "aladin-lite-div-01";
var dayvisibility_panel = "aladin-lite-div-10";
var dayvisibility_panel_text = "panel-text-10";
var yearvisibility_panel = "aladin-lite-div-20";
var yearvisibility_panel_text = "panel-text-20";
var wiki_panel_width = "500px";
var wiki_frame_width = 500;
var status_text = "error_text";
var error_text = "error_text";

if (screen.height > screen.width) {
    // screen is taller than it is wide
    wiki_panel = "aladin-lite-div-30";
    wiki_panel_width = "700px";
    wiki_frame_width = 700;
}

// size means number of panels on each side
// 0.5 means 2 panels
// 1 means 3 panels
// 1.5 means 4 panes etc.
var size_x = 1;
var size_y = 1;

var telescope = "T1";
var fov_x;
var fov_y;
var img_fov = 0.8;  // field of view for single image considering the overlap
var img_size = 300;
var image_target;
var image_target_list = [];

var UTCdate_ms;

var url = new URL(window.location);
console.log(url);

var url_target = null;
var url_telescope = null;
var url_name = null;
var url_type = null;
var url_overlap = null;
var url_date = null;

if (typeof URLSearchParams === "function") {
    searchParams = new URLSearchParams(url.search.slice(1));
    url_target = searchParams.get('target');
    url_telescope = searchParams.get('telescope');
    url_name = searchParams.get('name');
    url_type = searchParams.get('type');
    url_overlap = searchParams.get('overlap');
    url_date = searchParams.get('date');
}

var xmlhttp;
var resolved_name = null;
var resolved_coordinates = null;

var target_ra;
var target_dec;
var location_lat;
var location_lng;
var location_alt;

var hour_ms = 60*60*1000;
var day_ms = 24*hour_ms;
var degToRad = Math.PI/180.0;
var radToDeg = 180.0/Math.PI;
var degToHours = 1/15;
var hoursToDeg = 15;
var JD1970 = 2440587.5;     // JD 1970-01-01 00:00 - Javascript zero time

var telescope_location = 'teide';

var teide_location_lat = 28.29970;        // N28.29970 (N28° 17′ 58.92″)
var teide_location_lng = -16.50826;       // W016.50826 (W016° 30′ 29.736″)
var teide_location_alt = 2372;

var chile_location_lat = -33.269;         // S33.269 (S33° 16' 8.4")
var chile_location_lng = -70.534;         // W070.534 (W070° 32' 2.4")
var chile_location_alt = 1450;

var slooh500Teide = null;
var slooh500Chile = null;
var catSlooh500 = null;

var slooh500select = null;
var slooh500text = null;
var slooh500teidelist = null;
var slooh500chilelist = null;
var slooh500location = ''; // last telescope_location
var slooh500date = null;
var slooh500time = null;
var slooh500filter = null;
var slooh500moonFilter = null;
var slooh500_index = null;

var wikiChecked = false;

// Hard and soft limits for current telecope
var horizonHard = [];
var horizonSoft = [];

var chile1Hard = [
7.75,5.75,3.5,1.75,1.75,1.75,6.75,1.5,1,0.75,0.5,0.5,0.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.5,0.75,1.25,0.75,0.5,0.5,4,13.5,11,
8.5,6,2.25,0,0.25,1.25,4,5.25,6.5,7.5,8.25,9.25,10,10.25,10.5,10.75,11,11.25,11.25,11,11.75,12.25,13,13.5,32.5,16.75,11.5,12,
12.75,13.25,13,12.75,11.75,10.75
];
var chileSoft = [
18,18,18,18,18,18,18,18,18,20,22,24,25,30,35,42,47,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,
50,50,50,47,40,35,30,25,24,22,20,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18
];
var teide1Hard = [
27,25,24,23,21.5,20,18,16,13.5,11,10,9,9,9,9,9,9,9,9,9,10,11,11.5,12,13.5,15,17,19,22,25,26.5,28,29.5,31,32,33,32,31,29.5,
28,26.5,25,22,19,18,15,14,13,13,13,13.5,14,14,14,12,12,12.5,13,12.5,12,12,12,15,16,18.5,21,22,23,23.5,24,26
];
var teide2Hard = [
30,26.6,24.8,23.8,22.7,21.2,19.6,17.6,15.5,13,10.8,9.8,9,9,9,9,9,9,9,9,9.2,10.2,11.1,11.6,12.3,13.8,15.4,17.4,19.6,33,33,33,
33,33,33,33,33,33,33,33,33,26.2,24.4,21.4,18.8,17.4,14.8,13.8,13,13,13.1,13.6,14,14,13.6,12,12.1,12.6,12.9,12.4,12,12,12.6,
15.2,16.5,19,21.2,22.2,23.1,23.6,24.4
];
var teide3Hard = [
10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10
];
var teide4Hard = [
10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10
];
var teideSoft = [
30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,33,33,33,33,33,33,33,33,33,33,33,33,33,30,
30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30
];

if (!url_target) {
    url_target = startup_image;
}

//url_target = "Tarantula nebula";
//document.getElementById("telescope").value = "C1";

if (url_name) {
    document.getElementById("astro_mosaic_title").innerHTML = url_name;
}
if (url_telescope) {
    document.getElementById("telescope").value = url_telescope;
}
if (url_type) {
    document.getElementById("grid_type").value = url_type;
}
if (url_overlap) {
    document.getElementById("overlap_percentage").value = url_overlap;
} else {
    document.getElementById("overlap_percentage").value = 20;
}
if (url_date) {
    document.getElementById("view_date").value = url_date;
} else {
    var d = new Date();
    document.getElementById("view_date").value = d.toISOString().substr(0, 10);
}

if (url_target) {
    document.getElementById("target").value = url_target;
    ViewImage();
}

document.getElementById("size_x").value = 3;
document.getElementById("size_y").value = 3;

// convert image_target HH:MM:SS DEG:HH:MM to decimal dgrees into target_ra and target_dec
function get_ra_dec(target)
{
    var radec = [];

    // assume format HH:MM:SS DEG:HH:MM
    var radec = target.split(' ');
    
    var raparts = radec[0].split(':');
    var decparts = radec[1].split(':');

    radec[0] = Math.abs(parseFloat(raparts[0])) + (parseFloat(raparts[1]) * 60 + parseFloat(raparts[2])) / 3600;
    if (isNaN(radec[0])) {
        // assume seconds are missing
        radec[0] = Math.abs(parseFloat(raparts[0])) + (parseFloat(raparts[1]) * 60) / 3600;
    }
    if (isNaN(radec[0])) {
        return [];
    }
    // convert from hours to degrees
    radec[0] = radec[0] * hoursToDeg;
    if (parseFloat(raparts[0]) < 0) {
        radec[0] = -radec[0];
    }
    radec[1] = Math.abs(parseFloat(decparts[0])) + (parseFloat(decparts[1]) * 60 + parseFloat(decparts[2])) / 3600;
    if (isNaN(radec[1])) {
        // assume seconds are missing
        radec[1] = Math.abs(parseFloat(decparts[0])) + (parseFloat(decparts[1]) * 60) / 3600;
    }
    if (isNaN(radec[1])) {
        return [];
    }
    if (parseFloat(decparts[0]) < 0) {
        radec[1] = -radec[1];
    }
    return radec;
}

// convert image_target HH:MM:SS DEG:HH:MM to decimal dgrees into target_ra and target_dec
function get_image_target_ra_dec()
{
    var radec = get_ra_dec(image_target);
    if (radec.length != 2) {
        return false;
    }
    target_ra = radec[0];
    target_dec = radec[1];

    return true;
}

// scale degrees to 0-360
function scale_to_360(v)
{
    while (v < 0) {
        v = v + 360;
    }
    return v - Math.floor(v/360)*360;
}

// sin from decimal degrees
function sind(deg)
{
    return Math.sin(deg*degToRad);
}

// cos from decimal regrees
function cosd(deg)
{
    return Math.cos(deg*degToRad);
}

// Julian Days from 2000, including fraction, used by sun and moon calculations
function getJD(d)
{
    var days = JD1970 + d / day_ms - 2451543.5;
    return days;
}

// Days from J2000, including fraction, used by altitude calculations
function getJ2000_2(d)
{
    var days = JD1970 + d / day_ms - 2451545.0;
    return days;
}

// Calculate object altitude. 
// Useful links:
//      https://astronomy.stackexchange.com/questions/24859/local-sidereal-time
//      https://observability.date/notes
//      http://njsas.org/projects/tidal_forces/altaz/pausch/riset.html
//      http://www.stjarnhimlen.se/comp/tutorial.html
//      http://www.stargazing.net/kepler/altaz.html
function object_altaz(date, ra, dec, lat, lng)
{
    // universal time in decimal hours
    var H = (date % day_ms) / hour_ms;

    // Julian date including fraction - 2451545.0,
    // that is days from J2000
    var D = getJ2000_2(date);

    // calculate local sidereal time in degrees
    var LST = 100.4606184 + 0.9856473662862 * D + H * hoursToDeg + lng;

    // get hours
    LST = LST % 360;

    // calculate local hour angle in degrees
    var LHA = LST - ra;

    // calculate sin(altitude) in radian
    var sin_altitude = sind(lat) * sind(dec) + cosd(lat) * cosd(dec) * cosd(LHA);

    var altitude = Math.asin(sin_altitude) * radToDeg;

    // calculate AZ
    var cos_A = (sind(dec) - sind(altitude)*sind(lat)) / (cosd(altitude)*cosd(lat));

    var A = Math.acos(cos_A) * radToDeg;

    var AZ;
    if (sind(LHA) < 0) {
        AZ = A;
    } else {
        AZ = 360 - A;
    }

    //console.log("object_altaz, last=",LST*degToHours,",lha=",LHA*degToHours,",sinalt=",sin_altitude,",alt=",altitude,",H=",H);

    return {alt:altitude, az:AZ};
}

// Do calculations that are not based on RA/DEC
function object_altitude_init(date, lat, lng)
{
    // universal time in decimal hours
    var H = (date % day_ms) / hour_ms;

    // Julian date including fraction - 2451545.0,
    // that is days from J2000
    var D = getJ2000_2(date);

    // calculate local sidereal time in degrees
    var LST = 100.4606184 + 0.9856473662862 * D + H * hoursToDeg + lng;

    // get hours
    LST = LST % 360;


    var aa =  {Lst: LST, Sinlat: sind(lat), Coslat: cosd(lat)}

    console.log("object_altitude_init, aa", aa);

    return aa;
}

// Calculate altidude on given RA/DEC
function object_altitude_get(aa, ra, dec)
{
    // calculate local hour angle in degrees
    var LHA = aa.Lst - ra;

    // calculate sin(altitude) in radian
    var sin_altitude = aa.Sinlat * sind(dec) + aa.Coslat * cosd(dec) * cosd(LHA);

    var altitude = Math.asin(sin_altitude) * radToDeg;

    return altitude;
}

// Simplified version of moon position at given time.
// - there are a lot of variables that affect correct moon position that
//    are ignored here
// - we do not correct for altitude
// Links:
//      http://www.stjarnhimlen.se/comp/tutorial.html
function moon_position(date)
{
    // Days from J2000
    var d = getJD(date);
    var pi = Math.PI;
    var nloop;
    //console.log("moon position d=",d,"JD=",JD1970+d/day_ms);

    var N = scale_to_360(125.1228 - 0.0529538083 * d);
    var i = 5.1454;
    var w = scale_to_360(318.0634 + 0.1643573223 * d);
    var a = 60.2666;
    var e = 0.054900;
    var M = scale_to_360(115.3654 + 13.0649929509 * d);
    //console.log("N",N,"i",i,"w",w,"a",a,"e",e,"M",M);

    var E = M + e*(180/pi) * sind(M) * ( 1.0 + e * cosd(M) );
    for (nloop = 0; nloop < 100; nloop++) {
        var E0 = E;
        E = E0 - (E0 - e * (180/pi) * sind(E0) - M) / (1- e * cosd(E0));
        if (Math.abs(E-E0) <= 0.001) {
            break;
        }
    }
    //console.log("E", E, "nloop", nloop);

    var x = a * ( cosd(E) - e );
    var y = a * Math.sqrt(1.0 - e*e) * sind(E);
    //console.log("x,y",x,y);

    var r = Math.sqrt( x*x + y*y );
    var v = scale_to_360(Math.atan2( y, x ) * radToDeg);
    //console.log("r,v",r,v);

    // moon geocentric position in ecliptic coordinates
    var xeclip = r * ( cosd(N) * cosd(v+w) - sind(N) * sind(v+w) * cosd(i) );
    var yeclip = r * ( sind(N) * cosd(v+w) + cosd(N) * sind(v+w) * cosd(i) );
    var zeclip = r * ( sind(v+w) * sind(i) );
    //console.log("moon xeclip=",xeclip,",yeclip=",yeclip,",zeclip=",zeclip);

    // ecliptic longitude and latitude
    //var lonecl = scale_to_360(Math.atan2( yeclip, xeclip ) * radToDeg);
    //var latecl = Math.atan2( zeclip, Math.sqrt(xeclip*xeclip+yeclip*yeclip) ) * radToDeg;
    //console.log("lonecl,latecl",lonecl,latecl);

    var oblecl = 23.4;

    // rotate ecliptic coordinates to equatorial coordinates
    var xequat = xeclip;
    var yequat = yeclip * cosd(oblecl) - zeclip * sind(oblecl);
    var zequat = yeclip * sind(oblecl) + zeclip * cosd(oblecl);
    //console.log("moon xequat=",xequat,",yequat=",yequat,",zequat=",zequat);

    // calculate RA and Dec
    var RA  = scale_to_360(Math.atan2( yequat, xequat ) * radToDeg);
    var Dec = Math.atan2( zequat, Math.sqrt(xequat*xequat+yequat*yequat) ) * radToDeg;

    //console.log("moon ra",RA,",dec",Dec);

    return {ra:RA, dec:Dec};
}

// a simple version for topocentric correction
function moon_topocentric_correction(alt)
{
    var r = 60.336;
    return alt - Math.asin(1/r) * cosd(alt);
}

// Sun position at given time.
// Links:
//      http://www.stjarnhimlen.se/comp/tutorial.html
function sun_position(date)
{
    // Days from J2000
    var d = getJD(date);
    var pi = Math.PI;
    //console.log("sun_position d", d);

    var w = scale_to_360(282.9404 + 4.70935E-5 * d);
    var a = 1.0;
    var e = 0.016709 - 1.151E-9 * d;
    var M = scale_to_360(356.0470 + 0.9856002585 * d);

    //console.log(w,a,e,M);

    var oblecl = scale_to_360(23.4393 - 3.563E-7 * d);
    var L = scale_to_360(w + M);
    //console.log("L", L,"oblecl", oblecl);

    var E = scale_to_360((M + (180/pi) * e * sind(M) * (1 + e * cosd(M))));
    //console.log("E", E);

    var x = cosd(E) - e;
    var y = sind(E) * Math.sqrt(1 - e*e);
    //console.log("x,y", x,y);

    var r = Math.sqrt(x*x + y*y);
    var v = Math.atan2( y, x ) * radToDeg;
    //console.log("r,v", r,v);

    var lon = scale_to_360(v + w);
    //console.log("lon", lon);

    x = r * cosd(lon);
    y = r * sind(lon);
    //console.log("x,y", x,y);

    var xequat = x;
    var yequat = y * cosd(oblecl);
    var zequat = y * sind(oblecl);
    //console.log("xequat,yequat", xequat,yequat);

    var RA  = Math.atan2( yequat, xequat ) * radToDeg;
    var Dec = Math.atan2( zequat, Math.sqrt(xequat*xequat+yequat*yequat) ) * radToDeg;

    //console.log("Sun_position", RA, Dec);

    return {ra:RA, dec:Dec};
}

// Simplified version of rise and set times.
// - we do not correct for altitude
// - we use current day rise time as next day rise time
// Links:
//      http://www.stjarnhimlen.se/comp/tutorial.html
function sun_rise_set(midday, lat, lon, h)
{
    var d = getJD(midday);
    
    var sun_pos = sun_position(midday);
    var LST = sun_pos.ra;

    var w = scale_to_360(282.9404 + 4.70935E-5 * d);
    var M = scale_to_360(356.0470 + 0.9856002585 * d);
    var L = M + w;
    var GMST0 = scale_to_360(L + 180);

    var UT_sun = (LST - GMST0 - lon) * degToHours;
    if (UT_sun < 0) {
        UT_sun = UT_sun + 24;
    }
    //console.log("Sun_rise_set UT_sun", UT_sun);

    // calculate midday at location
    midday = midday - 12 * hour_ms + UT_sun * hour_ms;

    var cos_LHA = (sind(h) - sind(lat)*sind(sun_pos.dec)) / (cosd(lat) * cosd(sun_pos.dec));

    var LHA = (Math.acos(cos_LHA) * radToDeg) * degToHours;
    //console.log("Sun_rise_set LHA", LHA);

    //console.log("Sun_rise_set set rise", 12+LHA, 12-LHA);

    // we use the current day sunrise as the next sunrise which is not exactly correct
    return {sunset: midday + LHA*hour_ms, sunrise: midday - LHA*hour_ms + day_ms};
}

// Calculate distance in degrees between two (ra,dec) positions
function moon_distance(ra1, dec1, ra2, dec2)
{
    var cos_A = sind(dec1) * sind(dec2) + cosd(dec1) * cosd(dec2) * cosd(ra1 - ra2);
    var A = Math.acos(cos_A) * radToDeg;
    if (A < 0) {
        A = -A;
    }
    if (A > 180) {
        A = 360 - A;
    }
    return A;
}

// This method can be found in many places, somwhow
// it gives weird results
function get_moon_phase2(date)
{
    var d = getJD(date);

    var v = (d-2451550.1) / 29.530588853;
    v = v - Math.floor(v);
    if (v < 0) {
        v = v + 1;
    }

    var age = v * 29.53;
    return age;
}

// My own version, calcuate sun-moon angle to get
// approximate "phase" in percentages
function get_moon_phase(d)
{
    var sunpos = sun_position(d);
    var moonpos = moon_position(d);
    var dist = moon_distance(sunpos.ra, sunpos.dec, moonpos.ra, moonpos.dec);
    //console.log("get_moon_phase dist", dist);
    return (scale_to_360(dist) / 180) * 100;
}

// Convert to dtate string to that e.g. 1:0 becomes 01:00
function toDateString(num)
{
    if (num < 10) {
        return '0' + num.toString();
    } else {
        return num.toString();
    }
}

function setGridBackgroundStyle(panel)
{
    document.getElementById(panel).style.background = "white";
    document.getElementById(panel).style.padding = "10px";
    document.getElementById(panel).style.margin = "10px";
}

function setHiddenBackgroundStyle(panel)
{
    document.getElementById(panel).style.background = "white";
    document.getElementById(panel).style.padding = "0px";
    document.getElementById(panel).style.margin = "0px";
}

function setPanelBackgroundStyle(panel)
{
    document.getElementById(panel).style.background = "white";
    document.getElementById(panel).style.padding = "2px";
    document.getElementById(panel).style.margin = "2px";
}

function drawDayVisibilityandGrid() 
{
    console.log("drawDayVisibilityandGrid, image_target_list.length", image_target_list.length);

    if (image_target_list.length > 1) {
        ViewGridFromList(image_target_list);
    } else {
        ViewGrid();
    }

    var data = new google.visualization.DataTable();
    // get midday in UTC time in ms
    var midday = UTCdate_ms + day_ms/2;
    var UTCmidday = new Date(midday);

    //data.addColumn('datetime', 'Time'); Can't get this working...
    data.addColumn('string', 'Time');
    //data.addColumn('datetime', 'Time');
    data.addColumn('number', 'Visible');            // object altitude
    data.addColumn('number', 'Below soft horizon'); // object altitude if below soft horizon
    data.addColumn('number', 'Not visible');        // object altitude below hard horizon or meridian transit
    data.addColumn('number', 'Moon alt');           // moon altitude

    var interval = 5*60*1000; // 5 minutes
    
    var ra = target_ra;
    var dec = target_dec;
    
    var lat = location_lat;
    var lng = location_lng;

    console.log(ra, dec, lat, lng);

    var rowdata = [];

    var draw_full_day = 0;  // if 0 draw only during astronomical twilight

    // sun rise and set times that close match Slloh dome open times
    var suntimes = sun_rise_set(midday, lat, lng, -12);

    var UTCsunset = new Date(suntimes.sunset);
    var UTCsunrise = new Date(suntimes.sunrise);

    var starttime;
    var endtime;
    if (draw_full_day) {
        starttime = midday;
        endtime = starttime + day_ms;
    } else {
        starttime = suntimes.sunset - suntimes.sunset % interval;
        endtime = suntimes.sunrise + interval - suntimes.sunrise % interval;
    }
    var prevaz = null;
    var meridian_index = null;

    for (var d = starttime; d <= endtime; d = d + interval) {
        //console.log("d",d,"sunrise",suntimes.sunrise,"unset",suntimes.sunset);
        var altaz = object_altaz(d, ra, dec, lat, lng);
        //console.log("target az=",altaz.az,",alt=",altaz.alt);
        var objectalt = altaz.alt;

        var moonpos = moon_position(d);
        var moonalt = object_altaz(d, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);
        var UTCdate = new Date(d);
        //console.log("d=",d,",altaz=", altaz, ",moonalt=",moonalt);

        var visiblealt = null;     // target visible
        var softalt = null;        // target below soft horizon
        var hardalt = null;        // target below hard horizon or meridian transit

        var horizon_index = Math.round(altaz.az / 5);

        if (prevaz != null) {
            if ((prevaz > 180 && altaz.az < 180) || // from 360 to 0
                (prevaz < 180 && altaz.az > 180))   // passed 180
            {
                // save meridian crossing
                meridian_index = rowdata.length;
                console.log("meridian_index",meridian_index);
            }
        }
        prevaz = altaz.az;
        if (objectalt > 0) {
            //console.log("objectalt",objectalt,"horizon_index",horizon_index);
            //console.log("soft",horizonSoft[horizon_index],"hard",horizonHard[horizon_index]);
            if (objectalt > horizonSoft[horizon_index]) {
                visiblealt = objectalt;
            } else if (objectalt > horizonHard[horizon_index]) {
                softalt = objectalt;
            } else {
                hardalt = objectalt;
            }
        }
        if (moonalt < 0) {
            moonalt = null;
        }
        var row = [
                    toDateString(UTCdate.getUTCHours())+":"+toDateString(UTCdate.getUTCMinutes()), 
                    //UTCdate,
                    visiblealt,
                    softalt,
                    hardalt,
                    moonalt];
        //console.log("row", row);
        rowdata[rowdata.length] = row;
    }

    if (meridian_index != null) {
        // Mark Meridian crossing as not visible. We use literal 30 minutes clock time here.
        // Maybe it could be done some other way...
        var timer = Math.round((30 * 60 * 1000) / interval);
        var begin = Math.max(meridian_index - timer, 0);
        var end = Math.min(meridian_index + timer, rowdata.length);
        for (var i = begin; i < end; i++) {
            if (rowdata[i][1] != null) {
                rowdata[i][3] = rowdata[i][1];
                rowdata[i][1] = null;
            } else if (rowdata[i][2] != null) {
                rowdata[i][3] = rowdata[i][2];
                rowdata[i][2] = null;
            }
        }

    }

    //for (var i = 0; i < rowdata.length; i++) {
    //    console.log("rowdata", i, rowdata[i])
    //}

    data.addRows(rowdata);

    // problems with timezone if using date, formatter does not solve all problems
    //var formatter = new google.visualization.DateFormat({timeZone: 0});
    //formatter.format(data, 0);

    var options = {
        title: 'Target visibility',
        hAxis: { 
            title: 'Time (UTC)'
            //format: 'HH:mm' 
        },
        vAxis: { title: 'Altitude (degrees)' },
        gridlines: {    // Can't get gridlines to work...
            // count: -1
            //units: { hours: {format: ['HH:MM']}, }
        },
        // minorGridlines: { units: { hours: {format: ['HH:MM']} } },
        series: { 
            0: { color: 'green' },
            1: { color: 'orange', lineDashStyle: [4, 2] },
            2: { color: 'red', lineDashStyle: [2, 2] },
            3: { color: '#1c91c0', lineDashStyle: [4, 1, 2], lineWidth: 1 }
        }
    };

    document.getElementById(dayvisibility_panel).style.height = "400px";
    document.getElementById(dayvisibility_panel).style.width = "700px";
    setGridBackgroundStyle("day-visibility-div");

    // material var chart = new google.charts.Line(document.getElementById(dayvisibility_panel));
    var chart = new google.visualization.LineChart(document.getElementById(dayvisibility_panel));

    // material chart.draw(data, google.charts.Line.convertOptions(options));
    chart.draw(data, options);

    var midnight = suntimes.sunset + (suntimes.sunrise - suntimes.sunset) / 2;

    // We use sun and moon distance in dgrees at midnight to approximate 
    // the moon "phase". I guess there is also a correct way...
    var moon_phase = get_moon_phase(midnight);
    // Moon distance from object at midnight. Distance changes during the night
    // but not much so this should be fine.
    var moonpos_midnight = moon_position(midnight);
    var moon_angle = moon_distance(ra, dec, moonpos_midnight.ra, moonpos_midnight.dec);

    document.getElementById(dayvisibility_panel_text).innerHTML = 
        //"Astronomical twilight start : " + UTCsunset.toUTCString() + "<br>" +
        //"Astronomical twilight end : " + UTCsunrise.toUTCString() + "<br>" +
        "Moon phase: " + Math.floor(moon_phase) + "%<br>" +
        "Moon distance from target: " + Math.floor(moon_angle) + " degrees";

    //console.log("TEST 1990-04-19");
    //moon_position(Date.UTC(1990, 3, 19));
}

function drawYearVisibility() 
{
    console.log("drawYearVisibility");

    var data = new google.visualization.DataTable();
    // get midday in UTC time in ms
    var midday = UTCdate_ms + day_ms/2;

    //data.addColumn('datetime', 'Time'); Can't get this working...
    data.addColumn('date', 'Date');
    data.addColumn('number', 'Visible');            // object altitude
    data.addColumn('number', 'Not visible');        // moon altitude
    data.addColumn('number', 'Moon alt');           // moon altitude

    var interval = day_ms; // day
    
    var ra = target_ra;
    var dec = target_dec;
    
    var lat = location_lat;
    var lng = location_lng;

    var rowdata = [];

    var starttime = midday;
    var endtime = starttime + 365 * day_ms;

    for (var d = starttime; d <= endtime; d = d + interval) {
        var suntimes = sun_rise_set(d, lat, lng, 0);

        // get appriximate midnight
        var midnight = suntimes.sunset + (suntimes.sunrise - suntimes.sunset) / 2;

        var objectalt = object_altaz(midnight, ra, dec, lat, lng).alt;

        var moonpos = moon_position(midnight);
        var moonalt = object_altaz(midnight, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);

        var visiblealt = null;     // target visible
        var hardalt = null;        // target below 30 degrees

        if (objectalt >= 30) {
            visiblealt = objectalt;
        } else if (objectalt > 0) {
            hardalt = objectalt;
        }
        if (moonalt < 0) {
            moonalt = null;
        }
        var row = [
                new Date(d),
                    visiblealt,
                    hardalt,
                    moonalt];
        rowdata[rowdata.length] = row;
    }

    data.addRows(rowdata);

    var options = {
        title: 'Target visibility at midnight over next 12 months',
        hAxis: { 
            //title: 'Date'
            //format: 'HH:mm' 
        },
        vAxis: { title: 'Altitude (degrees)' },
        gridlines: {    // Can't get gridlines to work...
            // count: -1
            //units: { hours: {format: ['HH:MM']}, }
        },
        // minorGridlines: { units: { hours: {format: ['HH:MM']} } },
        series: { 
            0: { color: 'green' },
            1: { color: 'red', lineDashStyle: [2, 2] },
            2: { color: '#1c91c0', lineDashStyle: [4, 1, 2], lineWidth: 1 }
        }
    };

    document.getElementById(yearvisibility_panel).style.height = "400px";
    document.getElementById(yearvisibility_panel).style.width = "700px";
    setGridBackgroundStyle("year-visibility-div");

    var chart = new google.visualization.LineChart(document.getElementById(yearvisibility_panel));

    chart.draw(data, options);
}

// Find coordinates from Sesame XML output
// or SIMBAD ascii output
function find_coordinates(str)
{
    console.log('find_coordinates');

    var idx = str.indexOf("<jpos>");
    if (idx > 0) {
        // Assume Sesame XML format
        var coord = str.substr(idx+6, 100);
        var idx2 = coord.indexOf("</jpos>");
        if (idx2 == -1) {
            console.log("find_coordinates:failed to get coordinates from '", coord, "', failed at position ", i.toString());
            return false;
        }
        image_target = coord.substr(0, idx2);
    } else {
        // Simbad ascii output
        idx = str.indexOf("J2000");
        if (idx == -1) {
            console.log("find_coordinates:could not find 'J2000'");
            return false;
        }
        str = str.substr(idx+4);
        idx = str.indexOf(":");
        if (idx == -1) {
            console.log("find_coordinates:could not find ':'");
            return false;
        }
        var coord = str.substr(idx+1, 100);
        console.log("find_coordinates:get coordinates from '", coord, "'");
        coord = trim_spaces(coord);
        for (var i = 0; i < coord.length; i++) {
            var c = coord.substr(i,1);
            if ((c < '0' || c > '9') && c != '.' && c != '-' && c != '+' && c != ' ') {
                break;
            }
        }
        if (i < 12) {
            console.log("find_coordinates:failed to get coordinates from '", coord, "', failed at position ", i.toString());
            return false;
        }
        image_target = coord.substr(0, i);
    }
    resolved_name = image_target;

    // change image_target from name to coordinates
    image_target = trim_spaces(image_target);
    console.log("find_coordinates:image_target=", image_target);
    image_target = reformat_coordinates(image_target);
    document.getElementById(status_text).innerHTML = "RA/DEC " + image_target;

    resolved_coordinates = image_target;

    return true;
}

// Resolve image coordinates from Simbad database using name
function ViewImageByName()
{
    console.log('ViewImageByName');

    if (resolved_name == image_target && resolved_coordinates != null) {
        // same name already resolved, do not resolve again
        document.getElementById(status_text).innerHTML = "RA/DEC " + resolved_coordinates;
        image_target = resolved_coordinates;
        ViewImageByType();
        return;
    }

    // Simbad ascii, some problems when accessing the site
    // var resolver_url = "https://simbad.u-strasbg.fr/simbad/sim-id?output.format=ASCII&Ident=";
    
    // Mirror of Simbad u-strasbg? Worked when u-strasbg failed.
    // var resolver_url = "http://simbad.cfa.harvard.edu/simbad/sim-id?output.format=ASCII&Ident=";

    // Sesame  uses Simbad, NED and Vizier for resolving. Best documented interface.
    var resolver_url = "https://cdsweb.u-strasbg.fr/cgi-bin/nph-sesame/-oxp/SNV?";

    xmlhttp=new XMLHttpRequest();
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200) {
            console.log('simbad_resolve, got response from HTTP GET: ', xmlhttp.responseText.substr(0, 40));
            if (find_coordinates(xmlhttp.responseText)) {
                ViewImageByType();
            } else {
                document.getElementById(error_text).innerHTML = "Failed to resolve name " + image_target;
            }
        }
    }
    resolver_url = resolver_url + image_target.replace(/ /g, "+");
    console.log('ViewImageByName, send HTTP GET(' + resolver_url + ')');
    xmlhttp.open("GET", resolver_url, false);
    xmlhttp.send();    
}

// Remove leading, trailing and duplicate spaces
function trim_spaces(str)
{
    // replace all whitespace to space
    str = str.replace(/\s/g, " ");
    // remove leading and trailing spaces
    str = str.trim();
    for (var i = 0; i < str.length && str.indexOf('  ') != -1; i++) {
        // remove all duplicate spaces
        str = str.replace(/  /g, " ");
    }
    return str;
}

function decimal_to_mmss(v)
{
    console.log("decimal_to_mmss, v", v);
    var index = v.indexOf('.');
    if (index == -1) {
        console.log("decimal_to_mmss, no dot found", v);
        return v;
    }
    var vd = v.substring(index+1);
    console.log("decimal_to_mmss, vd", vd);
    var d = parseFloat("0."+vd);
    console.log("decimal_to_mmss, d", d);
    var secs = d * 3600;
    var mins = Math.floor(secs / 60);
    console.log("decimal_to_mmss, mins", mins);
    secs = secs - mins*60;
    console.log("decimal_to_mmss, secs", secs);

    var ret = v.substr(0, index) + ':' + mins.toString() + ':' + secs.toFixed(2);
    console.log("decimal_to_mmss, ret", ret);

    return ret;
}

// split [-]XXYYZZ to [-]XX:YY:ZZ
function split_coord(coord)
{
        if (coord.length == 7) {
            return coord.substring(0, 1) + split_coord(coord.substring(1));
        } else {
            return coord.substring(0, 2) + ':' +
                   coord.substring(2, 4) + ':' +
                   coord.substring(4); 
        }
}

// Reformat coordinates to a format HH:MM:SS DD:MM:SS
// Input can be: 
// HH:MM:SS DD:MM:SS, HH MM SS DD MM SS, 
// HH:MM:SS/DD:MM:SS, HH MM SS/DD MM SS,
// HHMMSS DDMMSS
// HH.dec DD.dec
function reformat_coordinates(coord)
{
    // number, assume coordinates
    coord = trim_spaces(coord);
    console.log('reformat_coordinates=', coord);
    var numbers = coord.split('/');
    if (numbers.length == 2) {
        coord = trim_spaces(numbers[0] + ' ' + numbers[1]);
        console.log('reformat_coordinates, split by /', coord);
    }
    numbers = coord.split(' ');
    console.log('reformat_coordinates, numbers.length=', numbers.length);
    if (numbers.length == 2) {
        var ra = numbers[0];
        var dec = numbers[1];
        if (ra.split(':').length == 1) {
            if (ra.indexOf('.') == -1 && dec.indexOf('.') == -1) {
                // no dots, assume HHMMSS DDMMSS
                coord = split_coord(ra) + ' ' + split_coord(dec);
                console.log('reformat_coordinates, length 2, assume HHMMSS DDMMSS', coord);
            } else {
                // assume HH.dec DD.dec, convert to HH:MM:SS DD:MM:SS
                coord = decimal_to_mmss(ra) + ' ' + decimal_to_mmss(dec);
                console.log('reformat_coordinates, length 2, assume correct HH.dec DD.dec', coord);
            }
        } else {
            // assume already correct format HH:MM:SS DD:MM:SS
            console.log('reformat_coordinates, length 2, assume correct format HH:MM:SS DD:MM:SS', coord);
        }
    } else if (numbers.length == 6) {
        // separated by space, add colons
        coord = numbers[0] + ':' + numbers[1] + ':' + numbers[2] + ' ' +
                numbers[3] + ':' + numbers[4] + ':' + numbers[5];
        console.log('reformat_coordinates, length "+numbers.length+", use as-is', coord);
    } else if (numbers.length == 5) {
        // badly formatted SIMBAD case, assume zero last number, separated by space, add colons
        coord = numbers[0] + ':' + numbers[1] + ':' + numbers[2] + ' ' +
                numbers[3] + ':' + numbers[4] + ':' + 0;
        console.log('reformat_coordinates, length "+numbers.length+", use as-is', coord);
    } else {
        // use as-is
        console.log('reformat_coordinates, length 6, reformat', coord);
    }
    return coord;
}

// target field action handler
// we clear slooh 500 selection if target is changed
function ViewTarget()
{
    slooh500select.value = '';
    ViewImage();
}

// Main function to view image. Get parameters
// and call correct view function
function ViewImage()
{
    console.log('ViewImage');

    document.getElementById(status_text).innerHTML = "";
    document.getElementById(error_text).innerHTML = "";

    clearOldImage();

    // get current date
    var view_date = document.getElementById("view_date").value;
    var curdate = new Date(view_date);
    if (curdate == null || isNaN(curdate.valueOf())) {
        document.getElementById(error_text).innerHTML = "Invalid ISO format date (YYYY-MM-DD) " + view_date;
        return;
    }
    checkFilterChanged();
    checkFilterTimeChanged();

    //console.log("curdate", curdate);
    UTCdate_ms = Date.UTC(parseInt(view_date.substr(0, 4)), parseInt(view_date.substr(5, 2))-1, 
                          parseInt(view_date.substr(8, 2)));

    if (slooh500date != UTCdate_ms) {
        // time changed, reset slooh500 list
        console.log("ViewImage, date changed, reset slooh500");
        slooh500date = UTCdate_ms;
        slooh500reset();
    }

    img_fov = document.getElementById("overlap_percentage").value;
    img_fov = 1 - img_fov / 100;

    telescope = document.getElementById("telescope").value;

    // assume Teide, both in degrees
    telescope_location = 'teide';
    location_lat = teide_location_lat;
    location_lng = teide_location_lng;
    location_alt = teide_location_alt

    // T1 FOV 37´
    // T2 wide field FOV 43'
    // T2 ultra wide field FOV 1° 47' 06" x 1° 12' 12"
    // T3 FOV 1.654° x 1.249°
    // T4 FOV 0° 15' 57" x 0° 12' 03"
    // C1 FOV 0° 31' 18" x 0° 20' 51"
    // C1 ultra wide field FOV 1° 21' 49" x 1° 00' 22"
    // C2 wide field FOV 65'

    horizonSoft = teideSoft;

    if (telescope == "T1") {
        fov_x = 37.0*60.0/3600.0;
        fov_y = 37.0*60.0/3600.0;
        horizonHard = teide1Hard;
    } else if (telescope == "T2") {
        fov_x = 43.0*60.0/3600.0;
        fov_y = 43.0*60.0/3600.0;
        horizonHard = teide2Hard;
    } else if (telescope == "T2UWF") {
        fov_x = 1+(47.0*60.0+6.0)/3600.0;
        fov_y = 1+(12.0*60.0+12.0)/3600.0;
        horizonHard = teide2Hard;
    } else if (telescope == "T3") {
        fov_x = 1.654;
        fov_y = 1.249;
        horizonHard = teide3Hard;
    } else if (telescope == "T4") {
        fov_x = (15*60.0+57)/3600.0;
        fov_y = (12*60.0+3)/3600.0;
        horizonHard = teide4Hard;
    } else if (telescope == "C1") {
        fov_x = (31*60.0+18)/3600.0; 
        fov_y = (20*60.0+51)/3600.0;
        telescope_location = 'chile';
    } else if (telescope == "C1UWF") {
        fov_x = 1+(21*60.0+49)/3600.0; 
        fov_y = 1+22/3600.0;
        telescope_location = 'chile';
    } else if (telescope == "C2") {
        // No focal reducer
        fov_x = 43.0*60.0/3600.0;
        fov_y = 43.0*60.0/3600.0;
        telescope_location = 'chile';
    } else if (telescope == "C2FR") {
        // With focal reducer
        fov_x = 65.0*60.0/3600.0;
        fov_y = 65.0*60.0/3600.0;
        telescope_location = 'chile';
    }

    if (telescope_location == 'chile') {
        // Chile telescope_location in degrees
        location_lat = chile_location_lat;
        location_lng = chile_location_lng;
        location_alt = chile_location_alt;
        horizonHard = chile1Hard;
        horizonSoft = chileSoft;
    }

    var target_name;

    initslooh500();

    console.log("chile1Hard[0]", chile1Hard[0]);
    console.log("horizonHard[0]", horizonHard[0]);

    image_target = document.getElementById("target").value;
    image_target = trim_spaces(image_target);
    console.log('image_target=', image_target);
    image_target_list = [];

    showWiki();

    var c = image_target.substr(0,1);
    if ((c >= '0' && c <= '9') || c == '-' || c == '+') {
        console.log('image_target is number');
        image_target_list = image_target.split(',');
        for (var i = 0; i < image_target_list.length; i++) {
            image_target_list[i] = reformat_coordinates(image_target_list[i]);
        }
        console.log('image_target_list', image_target_list);
        image_target = image_target_list[0];
        ViewImageByType();
    } else {
        console.log('image_target is name');
        // try to resolve target as a name
        ViewImageByName();
    }
}

function ViewImageByType()
{
    console.log('ViewImageByType');
    if (!get_image_target_ra_dec()) {
        document.getElementById(error_text).innerHTML = "Failed to parse target RA/DEC";
        return;
    }
    if (document.getElementById("grid_type").value == 'panels') {
        ViewPanels();
    } else {
        // material google.charts.load('current', {'packages':['line']});
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawDayVisibilityandGrid);
        google.charts.setOnLoadCallback(drawYearVisibility);
    }
}

function degrees_to_radians(degrees)
{
    var pi = Math.PI;
    return degrees * (pi/180);
}

function clearOldImage()
{
    for (var x = 0; x < 5; x++) {
        for (var y = 0; y < 5; y++) {
            var panelid = y.toString() + x.toString();
            var aladinpanel = "aladin-lite-div-"+panelid;
            document.getElementById(aladinpanel).innerHTML = "";
            document.getElementById(aladinpanel).style.borderStyle = "none";;
            document.getElementById(aladinpanel).style.height = "0px";
            document.getElementById(aladinpanel).style.width = "0px";
            document.getElementById("panel-text-"+panelid).innerHTML = "";
            setHiddenBackgroundStyle(aladinpanel);
        }
    }
}

function ViewGrid()
{
    console.log('ViewGrid');

    document.getElementById(image_panel).style.height = "700px";
    document.getElementById(image_panel).style.width = "700px";
    setGridBackgroundStyle("target-image-div");

    grid_type = document.getElementById("grid_type").value;

    var grid_size_x = parseInt(document.getElementById("size_x").value);
    var grid_size_y = parseInt(document.getElementById("size_y").value);
    if (grid_size_x == 1 && grid_size_y == 1) {
        grid_type = "fov";
    }
    if (grid_type == "mosaic") {
        size_x = grid_size_x / 2 - 0.5;
        size_y = grid_size_y / 2 - 0.5;
    } else {
        size_x = 1;
        size_y = 1;
        grid_size_x = 3;
        grid_size_y = 3;
    }

    // Show image and get coordinates from there to
    // calculate grid boxes.
    var aladin_fov;
    if (grid_type == "mosaic") {
        if (grid_size_x > grid_size_y) {
            aladin_fov = (grid_size_x+0.2)*fov_x;
        } else {
            aladin_fov = (grid_size_y+0.2)*fov_x;
        }
    } else {
        aladin_fov = 1.2*fov_x;
    }
    var aladin = A.aladin('#aladin-lite-div-00', {survey: "P/DSS2/color", fov:aladin_fov, target:image_target,
                           showReticle:false, showZoomControl:false, showFullscreenControl:true, 
                           showLayersControl:true, showGotoControl:false, 
                           showControl: false, cooFrame: "J2000", showFrame: false});
    aladin.addCatalog(catSlooh500);

    var radec = aladin.getRaDec();

    console.log("center RaDec = ", radec);

    var ra = radec[0];
    var dec = radec[1];

    var x;
    var y;
    var row = size_y;
    var col;
    var panel_radec = [];
    for (x = 0; x < grid_size_x; x++) {
        panel_radec[x] = [];
    }
    y = 0;
    while (row >= -size_y) {
        var row_dec = dec + row * img_fov * fov_y;
        col = size_x;
        x = 0;
        while (col >= -size_x) {
            var col_ra = ra + col * (img_fov * fov_x * (1/Math.cos(degrees_to_radians(Math.abs(row_dec)))));

            console.log("panel ra/dec=", col_ra, "/", row_dec);

            // now center ra/dec is col_ra/row_dec
            // calculate corners
            var row_dec1 = row_dec + fov_y/2;
            var row_dec2 = row_dec - fov_y/2;
            var col_ra1 = ra + col * (img_fov * fov_x * (1/Math.cos(degrees_to_radians(Math.abs(row_dec1)))));
            var col_ra2 = ra + col * (img_fov * fov_x * (1/Math.cos(degrees_to_radians(Math.abs(row_dec2)))));
            var col_ra1_delta = ((fov_x/2) * (1/Math.cos(degrees_to_radians(Math.abs(row_dec1)))));
            var col_ra2_delta = ((fov_x/2) * (1/Math.cos(degrees_to_radians(Math.abs(row_dec2)))));

            var panel = [
                [col_ra1-col_ra1_delta, row_dec1], 
                [col_ra1+col_ra1_delta, row_dec1], 
                [col_ra2+col_ra2_delta, row_dec2], 
                [col_ra2-col_ra2_delta, row_dec2], 
                [col_ra1-col_ra1_delta, row_dec1]
            ];

            //console.log("panel = ", panel);

            var line_color = '#ee2345';

            if (grid_type == "mosaic" || (x == 1 && y == 1)) {
                var overlay = A.graphicOverlay({color: line_color, lineWidth: 2});
                aladin.addOverlay(overlay);
                overlay.add(A.polyline(panel));
            }
            col = col - 1;

            var col_ra_hours = col_ra * degToHours;

            if (grid_type == "mosaic") {
                panel_radec[x][y] = col_ra_hours.toFixed(5) + 
                                    " " + row_dec.toFixed(5);
            } else {
                panel_radec[x][y] = "RA/DEC " + col_ra_hours.toFixed(5) + 
                                    " " + row_dec.toFixed(5);
            }
            x = x + 1;
        }
        row = row - 1;
        y = y + 1;
    }
    if (grid_type == "mosaic") {
        var tab = document.createElement("TABLE");
        tab.style.width = "100%";
        tab.style.borderCollapse="collapse";
        for (y = 0; y < grid_size_y; y++) {
            var tabrow = document.createElement("TR");
            tab.appendChild(tabrow);
            for (x = 0; x < grid_size_x; x++) {
                var tabdata = document.createElement("TD");
                var celltext = document.createTextNode(panel_radec[x][y]);
                tabdata.style.border = "1px solid #dddddd";
                tabdata.style.padding = "4px";
                tabdata.appendChild(celltext);
                tabrow.appendChild(tabdata);
            }
        }
        document.getElementById(image_panel_text).appendChild(tab);
    } else {
        document.getElementById(image_panel_text).innerHTML = panel_radec[1][1];
    }
    if (version_text) {
        // use wiki panel to show version info
        document.getElementById(wiki_panel).style.height = "300px";
        document.getElementById(wiki_panel).style.width = wiki_panel_width;
        document.getElementById(wiki_panel).innerHTML = version_text;
        // show only once, next time it is not shown
        version_text = null;    
    }
}

function ViewGridFromList(coordinates)
{
    console.log('ViewGridFromList');

    document.getElementById(image_panel).style.height = "700px";
    document.getElementById(image_panel).style.width = "700px";
    setGridBackgroundStyle("target-image-div");

    var grid_size_x = coordinates.length;
    var grid_size_y = coordinates.length;
    size_x = grid_size_x / 2 - 0.5;
    size_y = grid_size_y / 2 - 0.5;

    // Show image and get coordinates from there to
    // calculate grid boxes.
    var aladin_fov;
    if (grid_size_x > grid_size_y) {
        aladin_fov = (grid_size_x+0.2)*fov_x;
    } else {
        aladin_fov = (grid_size_y+0.2)*fov_x;
    }
    var aladin = A.aladin('#aladin-lite-div-00', {survey: "P/DSS2/color", fov:aladin_fov, target:coordinates[0],
                           showReticle:false, showZoomControl:false, showFullscreenControl:true, 
                           showLayersControl:true, showGotoControl:false, 
                           showControl: false, cooFrame: "J2000", showFrame: false});
    aladin.addCatalog(catSlooh500);
    var radec = aladin.getRaDec();

    console.log("center RaDec = ", radec);

    for (var i = 0; i < coordinates.length; i++) {
        radec = get_ra_dec(coordinates[i]);
        var col_ra = radec[0];
        var row_dec = radec[1];

        console.log("panel "+i+" ra/dec=", col_ra, "/", row_dec);

        // calculate corners
        var row_dec1 = row_dec + fov_y/2;
        var row_dec2 = row_dec - fov_y/2;
        var col_ra1 = col_ra;
        var col_ra2 = col_ra;
        var col_ra1_delta = ((fov_x/2) * (1/Math.cos(degrees_to_radians(Math.abs(row_dec1)))));
        var col_ra2_delta = ((fov_x/2) * (1/Math.cos(degrees_to_radians(Math.abs(row_dec2)))));

        var panel = [
            [col_ra1-col_ra1_delta, row_dec1], 
            [col_ra1+col_ra1_delta, row_dec1], 
            [col_ra2+col_ra2_delta, row_dec2], 
            [col_ra2-col_ra2_delta, row_dec2], 
            [col_ra1-col_ra1_delta, row_dec1]
        ];

        var line_color = '#ee2345';
        var overlay = A.graphicOverlay({color: line_color, lineWidth: 2});
        aladin.addOverlay(overlay);
        overlay.add(A.polyline(panel));
    }
}

function ViewPanels()
{
    console.log('ViewPanels');

    var grid_size_x = parseInt(document.getElementById("size_x").value);
    var grid_size_y = parseInt(document.getElementById("size_y").value);
    if (grid_size_x == 1 && grid_size_y == 1) {
        ViewGrid();
        return;
    }
    if (grid_size_x > 5) {
        document.getElementById(error_text).innerHTML = "Max size in panels view is 5x5";
        grid_size_x = 5;
    }
    if (grid_size_y > 5) {
        document.getElementById(error_text).innerHTML = "Max size in panels view is 5x5";
        grid_size_y = 5;
    }

    if (wikiIframe != null && wikiIframe.parentNode) {
        wikiIframe.parentNode.removeChild(wikiIframe);
    }
    wikiIframe = null;

    for (var x = 0; x < grid_size_x; x++) {
        for (var y = 0; y < grid_size_y; y++) {
            var panelid = y.toString() + x.toString();
            var aladinpanel = "aladin-lite-div-"+panelid;
            document.getElementById(aladinpanel).style.height = "300px";
            document.getElementById(aladinpanel).style.width = "300px";
            setPanelBackgroundStyle(aladinpanel);
        }
        setPanelBackgroundStyle("day-visibility-div");
        setPanelBackgroundStyle("year-visibility-div");
        setPanelBackgroundStyle("target-image-div");
    }

    size_x = grid_size_x / 2 - 0.5;
    size_y = grid_size_y / 2 - 0.5;

    console.log("image_target=" + image_target);
    var ra = target_ra;
    var dec = target_dec;

    var i = 0;
    var row = size_y;
    var col;
    var row_number = 0;
    var y = 0;
    while (row >= -size_y) {
        var row_dec = dec + row * img_fov * fov_y;
        col = size_x;
        var panel_number = 5 * row_number;
        var x = 0;
        while (col >= -size_x) {
            var col_ra = ra + col * (img_fov * fov_x * (1/Math.cos(degrees_to_radians(Math.abs(row_dec)))));
            // convert from degrees to hours
            col_ra = col_ra * degToHours;

            var point_ra_hour = Math.floor(col_ra);
            var point_ra_sec = (Math.abs(col_ra) - Math.abs(point_ra_hour)) * 3600;
            var point_ra_min = Math.floor(point_ra_sec / 60);
            point_ra_sec = point_ra_sec - point_ra_min * 60;
    
            var point_dec_hour = Math.floor(row_dec);
            var point_dec_sec = (Math.abs(row_dec) - Math.abs(point_dec_hour)) * 3600;
            var point_dec_min = Math.floor(point_dec_sec / 60);
            point_dec_sec = point_dec_sec - point_dec_min * 60;
    
            aladin_target_str = point_ra_hour.toString() + ":" + point_ra_min.toString() + ":" + point_ra_sec.toFixed(2) + " ";
            aladin_target_str = aladin_target_str + point_dec_hour.toString() + ":" + point_dec_min.toString() + ":" + point_dec_sec.toFixed(2);

            var panel_id = 'aladin-lite-div-'+y.toString()+x.toString();
            if (fov_x != fov_y) {
                var height = 300 * fov_y / fov_x;
                document.getElementById(panel_id).style.height = Math.floor(height).toString() + "px";
            } else {
                document.getElementById(panel_id).style.height = "300px";
            }
            aladin = A.aladin('#'+panel_id, {survey: "P/DSS2/color", fov:fov_x, target: aladin_target_str,
                                showReticle:false, showZoomControl:false, showFullscreenControl:false, 
                                showLayersControl:false, showGotoControl:false,
                                showControl: false, cooFrame: "J2000", showFrame: false});

            document.getElementById("panel-text-"+y.toString()+x.toString()).innerHTML = (i+1).toString() + " RA/DEC " + col_ra.toFixed(5) + " " + row_dec.toFixed(5);
            col = col - 1;
            i = i + 1;
            panel_number = panel_number + 1;
            x = x + 1;
        }
        row = row - 1;
        row_number = row_number + 1;
        y = y + 1;
    }
}

function addAladinCatalog(cat, list)
{
    for (var i = 0; i < list.length; i++) {
        var radec = get_ra_dec(list[i][4]);
        var dispname = list[i][2] + ' ' + list[i][3];
        cat.addSources(A.source(radec[0], radec[1], {name: dispname}));
        list[i][5] = radec[0];
        list[i][6] = radec[1];
    }
}

function slooh500initlists()
{
slooh500Teide = [
[ 1 , "STAR" , "Adhil" , "Xi Andromedae" , "01:22:20.41 +45:31:43.6" , 20.59 , 45.76 ],
[ 2 , "STAR" , "Albali" , "Epsilon Aquarii" , "20:47:40.55 -09:29:44.7" , 311.92 , -8.85 ],
[ 3 , "STAR" , "Almach" , "Gamma Andromedae" , "02:03:53.95 +42:19:47.0" , 30.97 , 42.71 ],
[ 4 , "STAR" , "Alpheratz" , "Alpha Andromedae" , "00:08:23.25 +29:05:25.5" , 2.10 , 29.49 ],
[ 5 , "STAR" , "Alshain" , "Beta Aquilae" , "19:55:18.79 +06:24:24.3" , 298.83 , 6.10 ],
[ 6 , "STAR" , "Altair" , "Alpha Aquilae" , "19:50:46.99 +08:52:05.9" , 297.70 , 8.14 ],
[ 7 , "STAR" , "Ancha" , "Theta Aquarii" , "22:16:50.03 -07:46:59.8" , 334.21 , -6.88 ],
[ 8 , "STAR" , "Bharani" , "41 Arietis" , "02:49:59.03 +27:15:37.8" , 42.50 , 27.46 ],
[ 9 , "STAR" , "Botein" , "Delta Arietis" , "03:11:37.76 +19:43:36.0" , 47.91 , 19.32 ],
[ 10 , "STAR" , "Cervantes" , "Mu Arae" , "17:44:08.70 -51:50:02.5" , 266.04 , -50.14 ],    // NO WIKI
[ 11 , "STAR" , "Hamal" , "Alpha Arietis" , "02:07:10.40 +23:27:44.7" , 31.79 , 23.39 ],
[ 12 , "STAR" , "Keid - home of Vulcan" , "40 Eridani" , "04:15:16.3 -7:39:10.3" , 63.82 , -6.88 ],
[ 13 , "STAR" , "Libertas" , "Xi Aquilae" , "19:54:14.88 +08:27:41.2" , 298.56 , 8.14 ],
[ 14 , "STAR" , "Lilii Borea" , "39 Arietis" , "02:47:54.54 +29:14:49.6" , 41.98 , 29.49 ],
[ 15 , "STAR" , "Mesarthim" , "Gamma Arietis" , "01:53:31.81 +19:17:37.8" , 28.38 , 19.32 ],
[ 16 , "STAR" , "Mirach" , "Beta Andromedae" , "01:09:43.92 +35:37:14.0" , 17.43 , 35.59 ],
[ 17 , "STAR" , "Nembus" , "51 Andromedae" , "01:37:59.55 +48:37:41.5" , 24.50 , 48.81 ],
[ 18 , "STAR" , "Sadachbia" , "Gamma Aquarii" , "22:21:39.37 -01:23:14.4" , 335.41 , -0.98 ],
[ 19 , "STAR" , "Sadalmelik" , "Alpha Aquarii" , "22:05:47.03 -00:19:11.4" , 331.45 , 0.00 ],
[ 20 , "STAR" , "Sadalsuud" , "Beta Aquarii" , "21:31:33.53 -05:34:16.2" , 322.89 , -4.92 ],
[ 21 , "STAR" , "Sheratan" , "Beta Arietis" , "01:54:38.41 +20:48:28.9" , 28.66 , 20.34 ],
[ 22 , "STAR" , "Situla" , "Kappa Aquarii" , "22:37:45.38 -04:13:40.9" , 339.44 , -3.93 ],
[ 23 , "STAR" , "Skat" , "Delta Aquarii" , "22:54:39.01 -15:49:14.8" , 343.66 , -14.75 ],
[ 24 , "STAR" , "Tarazed" , "Gamma Aquilae" , "19:46:15.58 +10:36:47.7" , 296.56 , 10.17 ],
[ 25 , "STAR" , "Titawin" , "Upsilon Andromedae A" , "01:36:47.84 +41:24:19.6" , 24.20 , 41.69 ],   // NO WIKI
[ 26 , "STAR" , "Veritate" , "14 Andromedae" , "23:31:17.41 +39:14:10.3" , 352.82 , 39.66 ],
[ 27 , "DOUBLE STARS" , "Albireo" , "Beta Cygni" , "19:30:43.28 +27:57:34.8" , 292.68 , 27.46 ],
[ 28 , "STAR CLOUDS" , "Sagittarius Star Cloud" , "M24" , "18:16:48 -18:33:03" , 274.20 , -17.70 ],
[ 29 , "SUPERNOVA REMNANTS" , "Crab Nebula" , "M1" , "05:34:31.93 +22:00:52.2" , 83.63 , 22.37 ],
[ 30 , "SUPERNOVA REMNANTS" , "Jellyfish Nebula" , "IC 443" , "06:18:02.70 +22:39:36.0" , 94.51 , 22.37 ],
[ 31 , "SUPERNOVA REMNANTS" , "Veil Nebula East" , "NGC 6992" , "20:56:19.0 +31:44:36" , 314.08 , 31.53 ],
[ 32 , "SUPERNOVA REMNANTS" , "Veil Nebula West" , "NGC 6960" , "20:45:37.99 +30:42:29.9" , 311.41 , 30.51 ],
[ 33 , "OPEN CLUSTERS" , "Ancient Open Star Cluster" , "M67" , "08:51:18.0 +11:48:00" , 132.83 , 11.19 ],
[ 34 , "OPEN CLUSTERS" , "Aristotle's Star Cluster" , "M41" , "06:46:01.0 -20:45:24" , 101.50 , -19.66 ],
[ 35 , "OPEN CLUSTERS" , "Beehive Star Cluster" , "M44" , "08:40:24.0 +19:40:00" , 130.10 , 19.32 ],
[ 36 , "OPEN CLUSTERS" , "Caroline's Star Cluster" , "M48" , "08:13:43.0 -05:45:00" , 123.43 , -4.92 ],
[ 37 , "OPEN CLUSTERS" , "Double Cluster" , "NGC 869" , "02:19:00.0 +57:07:42" , 34.75 , 57.97 ],
[ 38 , "OPEN CLUSTERS" , "E.T. Cluster" , "NGC 457" , "01:19:35.0 +58:17:12" , 19.90 , 58.98 ],
[ 39 , "OPEN CLUSTERS" , "Ghost's Goblet" , "NGC 559" , "01:29:31.2 +63:18:07" , 22.38 , 64.07 ],
[ 40 , "OPEN CLUSTERS" , "Gold Dust Star Cluster" , "M37" , "05:52:18.0 +32:33:12" , 88.08 , 32.54 ],
[ 41 , "OPEN CLUSTERS" , "Golf Ball Cluster" , "NGC 752" , "01:57:41.0 +37:47:06" , 29.42 , 37.63 ],
[ 42 , "OPEN CLUSTERS" , "Horseshoe Cluster" , "NGC 663" , "01:46:09.0 +61:14:06" , 26.54 , 62.03 ],
[ 43 , "OPEN CLUSTERS" , "Hyades" , "Melotte 25" , "04:26:53.99 +15:52:00.0" , 66.72 , 15.25 ],
[ 44 , "OPEN CLUSTERS" , "Open Star Cluster" , "M103" , "01:33:23.0 +60:39:00" , 23.35 , 61.02 ],
[ 45 , "OPEN CLUSTERS" , "Open Star Cluster" , "M18" , "18:19:58.0 -17:06:06" , 274.99 , -16.71 ],
[ 46 , "OPEN CLUSTERS" , "Open Star Cluster" , "M21" , "18:04:13.0 -22:29:24" , 271.05 , -21.63 ],
[ 47 , "OPEN CLUSTERS" , "Open Star Cluster" , "M23" , "17:57:04.0 -18:59:06" , 269.27 , -17.70 ],
[ 48 , "OPEN CLUSTERS" , "Open Star Cluster" , "M25" , "18:31:47.0 -19:07:00" , 277.95 , -18.68 ],
[ 49 , "OPEN CLUSTERS" , "Open Star Cluster" , "M26" , "18:45:18.0 -09:23:00" , 281.32 , -8.85 ],
[ 50 , "OPEN CLUSTERS" , "Open Star Cluster" , "M29" , "20:23:56.0 +38:31:24" , 305.98 , 38.64 ],
[ 51 , "OPEN CLUSTERS" , "Open Star Cluster" , "M35" , "06:08:54.0 +24:20:00" , 92.22 , 24.41 ],
[ 52 , "OPEN CLUSTERS" , "Open Star Cluster" , "M36" , "05:36:18.0 +34:08:24" , 84.08 , 34.58 ],
[ 53 , "OPEN CLUSTERS" , "Open Star Cluster" , "M47" , "07:36:35.0 -14:29:00" , 114.15 , -13.76 ],
[ 54 , "OPEN CLUSTERS" , "Open Star Cluster" , "M50" , "07:02:47.50 -08:20:16.0" , 105.70 , -7.86 ],
[ 55 , "OPEN CLUSTERS" , "Open Star Cluster" , "M73" , "20:59:00 -12:38:01" , 314.75 , -11.80 ],
[ 56 , "OPEN CLUSTERS" , "Pleiades Star Cluster" , "M45" , "03:47:00.0 +24:07:00" , 56.75 , 24.41 ],
[ 57 , "OPEN CLUSTERS" , "Salt and Pepper Cluster" , "M52" , "23:24:48.0 +61:35:36" , 351.20 , 62.03 ],
[ 58 , "OPEN CLUSTERS" , "Starfish Star Cluster" , "M93" , "07:44:30.0 -23:51:24" , 116.12 , -22.61 ],
[ 59 , "OPEN CLUSTERS" , "Velvet Star Cluster" , "M46" , "07:41:46.0 -14:48:36" , 115.44 , -13.76 ],
[ 60 , "OPEN CLUSTERS" , "Wild Duck Star Cluster" , "M11" , "18:51:05.0 -06:16:12" , 282.77 , -5.90 ],
[ 61 , "OPEN CLUSTERS" , "Winnecke 4 Star Cluster" , "M40" , "12:22:12.52 +58:04:58.5" , 185.55 , 58.98 ],
[ 62 , "OPEN CLUSTERS" , "X Open Star Cluster" , "M34" , "02:42:05.0 +42:45:42" , 40.52 , 42.71 ],
[ 63 , "GLOBULAR CLUSTERS" , "Baade's Window" , "NGC 6522" , "18:03:31 -30:01:15" , 270.88 , -29.49 ],
[ 64 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M107" , "16:32:31.86 -13:03:13.6" , 248.13 , -12.78 ],
[ 65 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M14" , "17:37:36.15 -03:14:45.3" , 264.40 , -2.95 ],
[ 66 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M15" , "21:29:58.33 +12:10:01.2" , 322.49 , 12.20 ],
[ 67 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M19" , "17:02:37.69 -26:16:04.5" , 255.66 , -25.56 ],
[ 68 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M2" , "21:33:27.01 -00:49:23.7" , 323.36 , 0.00 ],
[ 69 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M22" , "18:36:23.93 -23:54:17.1" , 279.10 , -22.61 ],
[ 70 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M28" , "18:24:32.89 -24:52:11.3" , 276.14 , -23.59 ],
[ 71 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M30" , "21:40:22.12 -23:10:47.4" , 325.09 , -22.61 ],
[ 72 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M4" , "16:23:35.22 -26:31:32.7" , 245.90 , -25.56 ],
[ 73 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M5" , "15:18:33.22 +02:04:51.7" , 229.64 , 2.03 ],
[ 74 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M53" , "13:12:55.24 +18:10:05.4" , 198.23 , 18.30 ],
[ 75 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M55" , "19:39:59.71 -30:57:53.1" , 295.00 , -29.49 ],
[ 76 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M56" , "19:16:35.56 +30:11:00.4" , 289.15 , 30.51 ],
[ 77 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M62" , "17:01:12.60 -30:06:44.4" , 255.30 , -29.49 ],
[ 78 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M68" , "12:39:27.97 -26:44:38.6" , 189.87 , -25.56 ],
[ 79 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M71" , "19:53:46.48 +18:46:45.0" , 298.44 , 18.30 ],
[ 80 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M72" , "20:53:27.70 -12:32:14.3" , 313.37 , -11.80 ],
[ 81 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M79" , "05:24:10.58 -24:31:27.3" , 81.04 , -23.59 ],
[ 82 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M80" , "16:17:02.41 -22:58:33.8" , 244.26 , -21.63 ],
[ 83 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M9" , "17:19:11.77 -18:30:58.5" , 259.80 , -17.70 ],
[ 84 , "GLOBULAR CLUSTERS" , "Great Hercules Cluster" , "M13" , "16:41:41.63 +36:27:40.7" , 250.42 , 36.61 ],
[ 85 , "GLOBULAR CLUSTERS" , "Intergalactic Wanderer" , "NGC 2419" , "07:38:08.50 +38:52:54.9" , 114.54 , 38.64 ],
[ 86 , "GLOBULAR CLUSTERS" , "Mirror Ball Star Cluster" , "M10" , "16:57:09.04 -04:06:01.1" , 254.29 , -3.93 ],
[ 87 , "GLOBULAR CLUSTERS" , "Orb Star Cluster" , "M92" , "17:17:07.39 +43:08:09.3" , 259.28 , 43.73 ],
[ 88 , "GLOBULAR CLUSTERS" , "Rich Globular Star Cluster" , "M3" , "13:42:11.62 +28:22:38.2" , 205.55 , 28.47 ],
[ 89 , "GLOBULAR CLUSTERS" , "Snowball Star Cluster" , "M12" , "16:47:14.17 -01:56:54.7" , 251.81 , -0.98 ],
[ 90 , "GLOBULAR CLUSTERS" , "Virgo Globular" , "NGC 5634" , "14:29:37.27 -05:58:35.1" , 217.41 , -4.92 ],
[ 91 , "EMISSION NEBULAE" , "Bubble Nebula" , "NGC 7635" , "23:20:48.30 +61:12:06.0" , 350.20 , 62.03 ],
[ 92 , "EMISSION NEBULAE" , "Butterfly Nebula" , "IC 1318" , "20:16:48.0 +41:57:24" , 304.20 , 41.96 ],
[ 93 , "EMISSION NEBULAE" , "California Nebula" , "NGC 1499" , "04:03:18.0 +36:25:18" , 60.82 , 36.61 ],
[ 94 , "EMISSION NEBULAE" , "Cave Nebula" , "Sh2-155" , "22:13:27.0 +70:15:18" , 333.36 , 71.19 ],
[ 95 , "EMISSION NEBULAE" , "Cocoon Nebula" , "IC 5146" , "21:53:24.0 +47:16:00" , 328.35 , 47.80 ],
[ 96 , "EMISSION NEBULAE" , "Cone Nebula" , "NGC 2264" , "06:41:06 +09:53:01" , 100.28 , 9.15 ],
[ 97 , "EMISSION NEBULAE" , "Crescent Nebula" , "NGC 6888" , "20:12:07.0 +38:21:18" , 303.03 , 38.64 ],
[ 98 , "EMISSION NEBULAE" , "Eagle Nebula" , "M16" , "18:18:48.0 -13:48:24" , 274.70 , -12.78 ],
[ 99 , "EMISSION NEBULAE" , "Flame Nebula" , "NGC 2024" , "05:41:42.70 -01:54:43.9" , 85.43 , -0.98 ],
[ 100 , "EMISSION NEBULAE" , "Flaming Star Nebula" , "IC 405" , "05:17:24 +34:23:01" , 79.35 , 34.58 ],
[ 101 , "EMISSION NEBULAE" , "Heart Nebula" , "IC 1805" , "02:32:42 +61:27:03" , 38.17 , 62.03 ],
[ 102 , "EMISSION NEBULAE" , "Lagoon Nebula" , "M8" , "18:03:37.0 -24:23:12" , 270.90 , -23.59 ],
[ 103 , "EMISSION NEBULAE" , "Monkey Head Nebula" , "NGC 2174" , "06:09:42 +20:30:03" , 92.43 , 20.34 ],
[ 104 , "EMISSION NEBULAE" , "North America Nebula" , "NGC 7000" , "20:58:47.0 +44:19:48" , 314.70 , 44.75 ],
[ 105 , "EMISSION NEBULAE" , "Orion Nebula" , "M42" , "05:35:17.29 -05:23:27.9" , 83.82 , -4.92 ],
[ 106 , "EMISSION NEBULAE" , "Pacman Nebula" , "NGC 281" , "00:52:25.09 +56:33:54.0" , 13.10 , 56.95 ],
[ 107 , "EMISSION NEBULAE" , "Pelican Nebula" , "IC 5070" , "20:51:00 +44:22:04" , 312.75 , 44.75 ],
[ 108 , "EMISSION NEBULAE" , "Pink and Blue Nebula" , "IC 1284" , "18:17:42 -19:40:04" , 274.43 , -18.68 ],
[ 109 , "EMISSION NEBULAE" , "Rosette Nebula" , "NGC 2244" , "06:31:40.0 +04:57:48" , 97.92 , 4.07 ],
[ 110 , "EMISSION NEBULAE" , "Seagull Nebula" , "IC 2177" , "07:04:25.0 -10:27:18" , 106.10 , -9.83 ],
[ 111 , "EMISSION NEBULAE" , "Stellar Nursery" , "NGC 2467" , "07:52:18.5 -26:25:41" , 118.08 , -25.56 ],
[ 112 , "EMISSION NEBULAE" , "Strawberry Nebula" , "IC 417" , "05:28:06 +34:25:04" , 82.03 , 34.58 ],
[ 113 , "EMISSION NEBULAE" , "Swan Nebula" , "M17" , "18:20:47.0 -16:10:18" , 275.20 , -15.73 ],
[ 114 , "EMISSION NEBULAE" , "Trifid Nebula" , "M20" , "18:02:42.0 -22:58:18" , 270.68 , -21.63 ],
[ 115 , "REFLECTION NEBULAE" , "Hubble's Variable Nebula" , "NGC 2261" , "06:39:09.51 +08:44:39.5" , 99.79 , 8.14 ],
[ 116 , "REFLECTION NEBULAE" , "Iris Nebula" , "NGC 7023" , "21:01:35.59 +68:10:09.9" , 315.40 , 69.15 ],
[ 117 , "REFLECTION NEBULAE" , "Northern Trifid" , "NGC 1579" , "04:30:11.0 +35:16:44" , 67.55 , 35.59 ],
[ 118 , "REFLECTION NEBULAE" , "Reflection Nebula" , "M78" , "05:46:45.79 +00:04:45.0" , 86.69 , 0.00 ],
[ 119 , "REFLECTION NEBULAE" , "Rho Ophiuchi Region" , "IC 4603" , "16:26:00.0 -24:24:00" , 246.50 , -23.59 ],
[ 120 , "REFLECTION NEBULAE" , "Running Man Nebula" , "NGC 1977" , "05:35:16.2 -04:47:07" , 83.82 , -3.93 ],
[ 121 , "REFLECTION NEBULAE" , "Star Forming Region" , "NGC 1333" , "03:28:55.2 +31:22:12" , 52.23 , 31.53 ],
[ 122 , "DARK NEBULAE" , "Dark Comet Nebula" , "Barnard 93" , "18:16:54.0 -18:04:00" , 274.23 , -18.07 ], 
[ 123 , "DARK NEBULAE" , "Horsehead Nebula" , "Barnard 33" , "05:40:58.99 -02:27:29.9" , 85.25 , -1.97 ],
[ 124 , "DARK NEBULAE" , "Inkspot Nebula" , "Barnard 86" , "18:02:58.0 -27:52:06" , 270.74 , -26.54 ],
[ 125 , "DARK NEBULAE" , "Molecular Cloud Nebula" , "Barnard 68" , "17:22:38.2 -23:49:34" , 260.66 , -22.61 ],
[ 126 , "DARK NEBULAE" , "Snake Nebula" , "Barnard 72" , "17:23:30 -23:38:00" , 260.88 , -22.61 ],
[ 127 , "DARK NEBULAE" , "Van den Bergh 142" , "IC 1396" , "21:39:00.0 +57:29:24" , 324.75 , 57.97 ],
[ 128 , "PLANETARY NEBULAE" , "Dumbbell Nebula" , "M27" , "19:59:36.36 +22:43:16.3" , 299.90 , 22.37 ],
[ 129 , "PLANETARY NEBULAE" , "Eskimo Nebula" , "NGC 2392" , "07:29:10.76 +20:54:42.4" , 112.29 , 20.34 ],
[ 130 , "PLANETARY NEBULAE" , "Helix Nebula" , "NGC 7293" , "22:29:38.54 -20:50:13.7" , 337.41 , -19.66 ],
[ 131 , "PLANETARY NEBULAE" , "Owl Nebula" , "M97" , "11:14:47.71 +55:01:08.4" , 168.70 , 55.93 ],
[ 132 , "SPIRAL GALAXIES" , "Andromeda Galaxy" , "M31" , "00:42:44.32 +41:16:07.5" , 10.68 , 41.69 ],
[ 133 , "SPIRAL GALAXIES" , "Antennae Galaxies" , "NGC 4038" , "12:01:53.00 -18:52:03.3" , 180.47 , -17.70 ],
[ 134 , "SPIRAL GALAXIES" , "Bennett 41B" , "NGC 2997" , "09:45:38.75 -31:11:27.3" , 146.41 , -30.47 ],
[ 135 , "SPIRAL GALAXIES" , "Black-Eye Galaxy" , "M64" , "12:56:43.69 +21:40:57.5" , 194.18 , 21.36 ],
[ 136 , "SPIRAL GALAXIES" , "Bode's Galaxy" , "M81" , "09:55:33.17 +69:03:55.0" , 148.89 , 70.17 ],
[ 137 , "SPIRAL GALAXIES" , "Caldwell 23" , "NGC 891" , "02:22:32.90 +42:20:53.9" , 35.64 , 42.71 ],
[ 138 , "SPIRAL GALAXIES" , "Caldwell 30" , "NGC 7331" , "22:37:04.10 +34:24:57.3" , 339.27 , 34.58 ],
[ 139 , "SPIRAL GALAXIES" , "Caldwell 36" , "NGC 4559" , "12:35:57.63 +27:57:35.8" , 188.99 , 27.46 ],
[ 140 , "SPIRAL GALAXIES" , "Caldwell 7" , "NGC 2403" , "07:36:51.39 +65:36:09.1" , 114.21 , 66.10 ],
[ 141 , "SPIRAL GALAXIES" , "Denning's Galaxy" , "IC 342" , "03:46:48.51 +68:05:45.9" , 56.70 , 69.15 ],
[ 142 , "SPIRAL GALAXIES" , "Edge-On Spiral Galaxy" , "NGC 4565" , "12:36:20.80 +25:59:14.6" , 189.09 , 25.42 ],
[ 143 , "SPIRAL GALAXIES" , "Fireworks Galaxy" , "NGC 6946" , "20:34:52.33 +60:09:13.2" , 308.72 , 61.02 ],
[ 144 , "SPIRAL GALAXIES" , "Flocculent Spiral Galaxy" , "NGC 4414" , "12:26:27.08 +31:13:24.7" , 186.61 , 31.53 ],
[ 145 , "SPIRAL GALAXIES" , "Grand Design Galaxy" , "M74" , "01:36:41.77 +15:47:00.4" , 24.17 , 15.25 ],
[ 146 , "SPIRAL GALAXIES" , "Hamburger Galaxy" , "NGC 3628" , "11:20:17.01 +13:35:22.1" , 170.07 , 13.22 ],
[ 147 , "SPIRAL GALAXIES" , "Mechain's Galaxy" , "M106" , "12:18:57.61 +47:18:13.3" , 184.74 , 47.80 ],
[ 148 , "SPIRAL GALAXIES" , "Oriani's Galaxy" , "M61" , "12:21:54.92 +04:28:25.5" , 185.48 , 4.07 ],
[ 149 , "SPIRAL GALAXIES" , "Pinwheel Galaxy" , "M101" , "14:03:12.58 +54:20:55.5" , 210.80 , 54.91 ],
[ 150 , "SPIRAL GALAXIES" , "S Galaxy" , "NGC 2903" , "09:32:10.11 +21:30:02.9" , 143.04 , 21.36 ],
[ 151 , "SPIRAL GALAXIES" , "Silver Coin Galaxy" , "NGC 253" , "00:47:33.12 -25:17:17.5" , 11.89 , -24.58 ],
[ 152 , "SPIRAL GALAXIES" , "Silver Needle Galaxy" , "NGC 4244" , "12:17:29.65 +37:48:25.5" , 184.37 , 37.63 ],
[ 153 , "SPIRAL GALAXIES" , "Sombrero Galaxy" , "M104" , "12:39:59.43 -11:37:22.9" , 190.00 , -10.81 ],
[ 154 , "SPIRAL GALAXIES" , "Southern Pinwheel Galaxy" , "M83" , "13:37:00.91 -29:51:56.7" , 204.25 , -28.51 ],
[ 155 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M100" , "12:22:54.93 +15:49:20.2" , 185.73 , 15.25 ],
[ 156 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M108" , "11:11:30.96 +55:40:26.8" , 167.88 , 55.93 ],
[ 157 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M109" , "11:57:35.98 +53:22:28.2" , 179.40 , 53.90 ],
[ 158 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M58" , "12:37:43.59 +11:49:05.1" , 189.43 , 11.19 ],
[ 159 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M65" , "11:18:55.95 +13:05:31.9" , 169.73 , 13.22 ],
[ 160 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M66" , "11:20:15.02 +12:59:28.6" , 170.06 , 12.20 ],
[ 161 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M88" , "12:31:59.21 +14:25:13.4" , 188.00 , 14.24 ],
[ 162 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M90" , "12:36:49.81 +13:09:46.3" , 189.21 , 13.22 ],
[ 163 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M91" , "12:35:26.43 +14:29:46.7" , 188.86 , 14.24 ],
[ 164 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M94" , "12:50:53.14 +41:07:12.5" , 192.72 , 41.69 ],
[ 165 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M95" , "10:43:57.73 +11:42:12.9" , 160.99 , 11.19 ],
[ 166 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M96" , "10:46:45.74 +11:49:11.7" , 161.69 , 11.19 ],
[ 167 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M98" , "12:13:48.29 +14:54:01.6" , 183.45 , 14.24 ],
[ 168 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M99" , "12:18:49.62 +14:24:59.3" , 184.71 , 14.24 ],
[ 169 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 2146" , "06:18:37.71 +78:21:25.2" , 94.66 , 79.32 ],
[ 170 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 3938" , "11:52:49.45 +44:07:14.6" , 178.21 , 44.75 ],
[ 171 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 691" , "01:50:41.70 +21:45:35.8" , 27.67 , 21.36 ],
[ 172 , "SPIRAL GALAXIES" , "Sunflower Galaxy" , "M63" , "13:15:49.27 +42:01:45.7" , 198.96 , 42.71 ],
[ 173 , "SPIRAL GALAXIES" , "Triangulum Galaxy" , "M33" , "01:33:50.90 +30:39:35.7" , 23.46 , 30.51 ],
[ 174 , "SPIRAL GALAXIES" , "Whale Galaxy" , "NGC 4631" , "12:42:08.00 +32:32:29.4" , 190.53 , 32.54 ],
[ 175 , "SPIRAL GALAXIES" , "Whirlpool Galaxy" , "M51" , "13:29:52.69 +47:11:42.9" , 202.47 , 47.80 ],
[ 176 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M105" , "10:47:49.60 +12:34:53.8" , 161.96 , 12.20 ],
[ 177 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M49" , "12:29:46.79 +08:00:01.4" , 187.44 , 8.14 ],
[ 178 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M59" , "12:42:02.32 +11:38:48.9" , 190.51 , 11.19 ],
[ 179 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M60" , "12:43:40.00 +11:33:09.3" , 190.92 , 11.19 ],
[ 180 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M89" , "12:35:39.81 +12:33:22.6" , 188.92 , 12.20 ],
[ 181 , "ELLIPTICAL GALAXIES" , "Giant Elliptical Galaxy" , "M87" , "12:30:49.42 +12:23:28.0" , 187.71 , 12.20 ],
[ 182 , "ELLIPTICAL GALAXIES" , "Lenticular Galaxy" , "M86" , "12:26:11.81 +12:56:45.4" , 186.55 , 12.20 ],
[ 183 , "ELLIPTICAL GALAXIES" , "Satellite Galaxy" , "M110" , "00:40:22.05 +41:41:07.4" , 10.09 , 41.69 ],
[ 184 , "ELLIPTICAL GALAXIES" , "Satellite Galaxy" , "M32" , "00:42:41.82 +40:51:54.6" , 10.67 , 40.68 ],
[ 185 , "ACTIVE GALAXIES" , "Cetus A Active Galaxy" , "M77" , "02:42:40.77 -00:00:47.8" , 40.67 , 0.00 ],
[ 186 , "ACTIVE GALAXIES" , "Exploding Galaxy" , "M82" , "09:55:52.42 +69:40:46.9" , 148.97 , 70.17 ],
[ 187 , "ACTIVE GALAXIES" , "Tao Galaxy" , "NGC 4535" , "12:34:20.31 +08:11:51.9" , 188.58 , 8.14 ],
[ 188 , "ACTIVE GALAXIES" , "X Ray Galaxy" , "NGC 1097" , "02:46:19.05 -30:16:29.6" , 41.58 , -29.49 ],
[ 189 , "GALAXY CLUSTERS" , "Leo Triplet" , "M66" , "11:20:15.0 +12:59:30" , 170.06 , 12.20 ],
[ 190 , "GALAXY CLUSTERS" , "Stephan's Quintet" , "NGC 7318" , "22:35:57.49 +33:57:36.0" , 338.99 , 33.56 ],
[ 191 , "OTHER GALAXIES" , "Barnard's Galaxy" , "NGC 6822" , "19:44:56.19 -14:47:51.2" , 296.23 , -13.76 ],
[ 192 , "OTHER GALAXIES" , "Box Galaxy" , "NGC 4449" , "12:28:11.11 +44:05:36.8" , 187.05 , 44.75 ],
[ 193 , "OTHER GALAXIES" , "Lenticular Galaxy" , "M84" , "12:25:03.74 +12:53:13.1" , 186.27 , 12.20 ],
[ 194 , "OTHER GALAXIES" , "Lenticular Galaxy" , "M85" , "12:25:24.05 +18:11:27.8" , 186.35 , 18.30 ],
[ 195 , "OTHER GALAXIES" , "Spindle Galaxy" , "M102" , "10:05:13.97 -07:43:06.8" , 151.31 , -6.88 ]
];

slooh500Chile = [
[ 1 , "STAR" , "Acrux" , "Alpha Crucis" , "12:26:35.89 -63:05:56.7" , 186.65 , -61.93 ],
[ 2 , "STAR" , "Adhil" , "Xi Andromedae" , "01:22:20.41 +45:31:43.6" , 20.59 , 45.76 ],
[ 3 , "STAR" , "Al Gieba" , "Gamma Leonis" , "10:19:58.4 +19:50:29.3" , 154.99 , 19.32 ],
[ 4 , "STAR" , "Al Phaulkah" , "Beta Gruis" , "22:42:40.1 -46:53:04.5" , 340.67 , -45.22 ],
[ 5 , "STAR" , "Albali" , "Epsilon Aquarii" , "20:47:40.55 -09:29:44.7" , 311.92 , -8.85 ],
[ 6 , "STAR" , "Aldebaran" , "Alpha Tauri" , "04:35:55.23 +16:30:33.4" , 68.98 , 16.27 ],
[ 7 , "STAR" , "Almach" , "Gamma Andromedae" , "02:03:53.95 +42:19:47.0" , 30.97 , 42.71 ],
[ 8 , "STAR" , "Alpheratz" , "Alpha Andromedae" , "00:08:23.25 +29:05:25.5" , 2.10 , 29.49 ],
[ 9 , "STAR" , "Alshain" , "Beta Aquilae" , "19:55:18.79 +06:24:24.3" , 298.83 , 6.10 ],
[ 10 , "STAR" , "Altair" , "Alpha Aquilae" , "19:50:46.99 +08:52:05.9" , 297.70 , 8.14 ],
[ 11 , "STAR" , "Ancha" , "Theta Aquarii" , "22:16:50.03 -07:46:59.8" , 334.21 , -6.88 ],
[ 12 , "STAR" , "Antares" , "Alpha Scorpii" , "16:29:24.45 -26:25:55.2" , 247.35 , -25.56 ],
[ 13 , "STAR" , "Arcturus" , "Alpha Bootis" , "14:15:39.67 +19:10:56.6" , 213.92 , 19.32 ],
[ 14 , "STAR" , "Beta Tucanae" , "SAO 248201" , "00:31:32.7 -62:57:29" , 7.89 , -60.95 ],
[ 15 , "STAR" , "Betelgeuse" , "Alpha Orionis" , "05:55:10.30 +07:24:25.4" , 88.79 , 7.12 ],
[ 16 , "STAR" , "Bharani" , "41 Arietis" , "02:49:59.03 +27:15:37.8" , 42.50 , 27.46 ],
[ 17 , "STAR" , "Botein" , "Delta Arietis" , "03:11:37.76 +19:43:36.0" , 47.91 , 19.32 ],
[ 18 , "STAR" , "Canopus" , "Alpha Carinae" , "06:23:57.10 -52:41:44.3" , 95.99 , -51.12 ],
[ 19 , "STAR" , "Cervantes" , "Mu Arae" , "17:44:08.70 -51:50:02.5" , 266.04 , -50.14 ],
[ 20 , "STAR" , "Ginan" , "Epsilon Crucis" , "12:21:21.60 -60:24:04.1" , 185.34 , -58.98 ],
[ 21 , "STAR" , "Hamal" , "Alpha Arietis" , "02:07:10.40 +23:27:44.7" , 31.79 , 23.39 ],
[ 22 , "STAR" , "Kapteyn's Star" , "TYC 8078-01749-1" , "05:11:40.58 -45:01:06.3" , 77.92 , -44.24 ],
[ 23 , "STAR" , "Keid - home of Vulcan" , "40 Eridani" , "04:15:16.3 -07:39:10.3" , 63.82 , -6.88 ],
[ 24 , "STAR" , "Libertas" , "Xi Aquilae" , "19:54:14.88 +08:27:41.2" , 298.56 , 8.14 ],
[ 25 , "STAR" , "Lilii Borea" , "39 Arietis" , "02:47:54.54 +29:14:49.6" , 41.98 , 29.49 ],
[ 26 , "STAR" , "Mesarthim" , "Gamma Arietis" , "01:53:31.81 +19:17:37.8" , 28.38 , 19.32 ],
[ 27 , "STAR" , "Mirach" , "Beta Andromedae" , "01:09:43.92 +35:37:14.0" , 17.43 , 35.59 ],
[ 28 , "STAR" , "Nembus" , "51 Andromedae" , "01:37:59.55 +48:37:41.5" , 24.50 , 48.81 ],
[ 29 , "STAR" , "Proxima Centauri" , "Alpha Centauri C" , "14:29:42.94 -62:40:46.1" , 217.43 , -60.95 ],
[ 30 , "STAR" , "Rigil Kentaurus" , "Alpha Centauri" , "14:39:36.5 -60:50:02.4" , 219.90 , -58.98 ],
[ 31 , "STAR" , "Sadachbia" , "Gamma Aquarii" , "22:21:39.37 -01:23:14.4" , 335.41 , -0.98 ],
[ 32 , "STAR" , "Sadalmelik" , "Alpha Aquarii" , "22:05:47.03 -00:19:11.4" , 331.45 , 0.00 ],
[ 33 , "STAR" , "Sadalsuud" , "Beta Aquarii" , "21:31:33.53 -05:34:16.2" , 322.89 , -4.92 ],
[ 34 , "STAR" , "Sheratan" , "Beta Arietis" , "01:54:38.41 +20:48:28.9" , 28.66 , 20.34 ],
[ 35 , "STAR" , "Situla" , "Kappa Aquarii" , "22:37:45.38 -04:13:40.9" , 339.44 , -3.93 ],
[ 36 , "STAR" , "Skat" , "Delta Aquarii" , "22:54:39.01 -15:49:14.8" , 343.66 , -14.75 ],
[ 37 , "STAR" , "Spica" , "Alpha Virginis" , "13:25:11.57 -11:09:40.7" , 201.30 , -10.81 ],
[ 38 , "STAR" , "Tarazed" , "Gamma Aquilae" , "19:46:15.58 +10:36:47.7" , 296.56 , 10.17 ],
[ 39 , "STAR" , "Titawin" , "Upsilon Andromedae A" , "01:36:47.84 +41:24:19.6" , 24.20 , 41.69 ],
[ 40 , "STAR" , "Veritate" , "14 Andromedae" , "23:31:17.41 +39:14:10.3" , 352.82 , 39.66 ],
[ 41 , "STAR CLOUDS" , "Galactic Center" , "Sagittarius A" , "17:45:40.03 -29:00:28.1" , 266.42 , -28.51 ],
[ 42 , "STAR CLOUDS" , "Sagittarius Star Cloud" , "M24" , "18:16:48 -18:33:03" , 274.20 , -17.70 ],
[ 43 , "SUPERNOVA REMNANTS" , "Crab Nebula" , "M1" , "05:34:31.93 +22:00:52.2" , 83.63 , 22.37 ],
[ 44 , "SUPERNOVA REMNANTS" , "Jellyfish Nebula" , "IC 443" , "06:18:02.70 +22:39:36.0" , 94.51 , 22.37 ],
[ 45 , "SUPERNOVA REMNANTS" , "Veil Nebula East" , "NGC 6992" , "20:45:37.99 +30:42:29.9" , 314.08 , 31.53 ],
[ 46 , "OPEN CLUSTERS" , "Ancient Open Star Cluster" , "M67" , "08:51:18.0 +11:48:00" , 132.83 , 11.19 ],
[ 47 , "OPEN CLUSTERS" , "Aristotle's Star Cluster" , "M41" , "06:46:01.0 -20:45:24" , 101.50 , -19.66 ],
[ 48 , "OPEN CLUSTERS" , "Beehive Star Cluster" , "M44" , "08:40:24.0 +19:40:00" , 130.10 , 19.32 ],
[ 49 , "OPEN CLUSTERS" , "Bennett 40a" , "NGC 2671" , "08:46:12.7 -41:52:01" , 131.55 , -40.31 ],
[ 50 , "OPEN CLUSTERS" , "Bennett 41a" , "NGC 2972" , "09:40:13.9 -50:19:30" , 145.06 , -49.15 ],
[ 51 , "OPEN CLUSTERS" , "Bennett 47" , "Melotte 105" , "11:19:42.0 -63:29:00" , 169.93 , -61.93 ],
[ 52 , "OPEN CLUSTERS" , "Bennett 72" , "NGC 6005" , "15:55:58.8 -57:26:24" , 239.00 , -56.03 ],
[ 53 , "OPEN CLUSTERS" , "Bennett 76" , "NGC 6134" , "16:27:46.0 -49:09:06" , 246.94 , -48.17 ],
[ 54 , "OPEN CLUSTERS" , "Bennett 79b" , "NGC 6192" , "16:40:23.0 -43:22:00" , 250.10 , -42.27 ],
[ 55 , "OPEN CLUSTERS" , "Butterfly Star Cluster" , "M6" , "17:40:20.0 -32:15:12" , 265.08 , -31.46 ],
[ 56 , "OPEN CLUSTERS" , "Butterfly Star Cluster" , "M6" , "17:40:20.0 -32:15:12" , 265.08 , -31.46 ],
[ 57 , "OPEN CLUSTERS" , "Caldwell 75" , "NGC 6124" , "16:25:20.0 -40:39:12" , 246.33 , -39.32 ],
[ 58 , "OPEN CLUSTERS" , "Caldwell 75" , "NGC 6124" , "16:25:20.0 -40:39:12" , 246.33 , -39.32 ],
[ 59 , "OPEN CLUSTERS" , "Caldwell 89" , "NGC 6067" , "16:13:11.0 -54:13:06" , 243.30 , -53.09 ],
[ 60 , "OPEN CLUSTERS" , "Caroline's Star Cluster" , "M48" , "08:13:43.0 -05:45:00" , 123.43 , -4.92 ],
[ 61 , "OPEN CLUSTERS" , "Coalsack Cluster" , "NGC 4609" , "12:42:18.0 -62:59:42" , 190.57 , -60.95 ],
[ 62 , "OPEN CLUSTERS" , "Dunlop 282" , "NGC 5316" , "13:53:57.0 -61:52:06" , 208.49 , -59.97 ],
[ 63 , "OPEN CLUSTERS" , "Dunlop 291" , "NGC 4103" , "12:06:39.6 -61:15:00" , 181.67 , -59.97 ],
[ 64 , "OPEN CLUSTERS" , "Dunlop 302" , "NGC 5617" , "14:29:44.0 -60:42:42" , 217.43 , -58.98 ],
[ 65 , "OPEN CLUSTERS" , "Dunlop 333" , "NGC 5715" , "14:43:30.0 -57:34:01" , 220.88 , -56.03 ],
[ 66 , "OPEN CLUSTERS" , "Dunlop 357" , "NGC 5593" , "14:25:37.2 -54:48:00" , 216.41 , -53.09 ],
[ 67 , "OPEN CLUSTERS" , "Dunlop 386" , "NGC 3228" , "10:21:22.0 -51:43:42" , 155.34 , -50.14 ],
[ 68 , "OPEN CLUSTERS" , "Dunlop 400" , "NGC 6167" , "16:34:34.0 -49:46:18" , 248.64 , -48.17 ],
[ 69 , "OPEN CLUSTERS" , "Dunlop 410" , "NGC 2547" , "08:09:54.7 -49:12:18" , 122.48 , -48.17 ],
[ 70 , "OPEN CLUSTERS" , "Dunlop 454" , "NGC 6216" , "16:49:21.1 -44:43:12" , 252.34 , -43.25 ],
[ 71 , "OPEN CLUSTERS" , "Dunlop 499" , "NGC 6231" , "16:54:08.50 -41:49:36.0" , 253.54 , -40.31 ],
[ 72 , "OPEN CLUSTERS" , "Dunlop 499" , "NGC 6231" , "16:54:08.50 -41:49:36.0" , 253.54 , -40.31 ],
[ 73 , "OPEN CLUSTERS" , "Gliese 581" , "HO Librae" , "15:19:26.82 -07:43:20.1" , 229.86 , -6.88 ],
[ 74 , "OPEN CLUSTERS" , "Gold Dust Star Cluster" , "M37" , "05:52:18.0 +32:33:12" , 88.08 , 32.54 ],
[ 75 , "OPEN CLUSTERS" , "Hyades" , "Melotte 25" , "04:26:53.99 +15:52:00.0" , 66.72 , 15.25 ],
[ 76 , "OPEN CLUSTERS" , "Jewel Box" , "NGC 4755" , "12:53:39.0 -60:21:42" , 193.41 , -58.98 ],
[ 77 , "OPEN CLUSTERS" , "LMC Cluster Bennett 30" , "NGC 1818" , "05:04:13.30 -66:26:05.4" , 76.06 , -64.88 ],
[ 78 , "OPEN CLUSTERS" , "LMC Cluster Bennett 33" , "NGC 1866" , "05:13:38.92 -65:27:52.7" , 78.41 , -63.90 ],
[ 79 , "OPEN CLUSTERS" , "LMC Cluster Bennett 36" , "NGC 2214" , "06:12:57.0 -68:15:36" , 93.24 , -66.85 ],
[ 80 , "OPEN CLUSTERS" , "LMC Cluster Dunlop 106" , "NGC 2122" , "05:48:55.0 -70:04:06" , 87.23 , -68.81 ],
[ 81 , "OPEN CLUSTERS" , "LMC Cluster Dunlop 211" , "NGC 1955" , "05:26:12.0 -67:29:54" , 81.55 , -65.86 ],
[ 82 , "OPEN CLUSTERS" , "LMC Cluster Dunlop 90" , "NGC 1943" , "05:22:30.31 -70:09:18.7" , 80.63 , -68.81 ],
[ 83 , "OPEN CLUSTERS" , "LMC Cluster" , "NGC 1850" , "05:08:45.79 -68:45:38.5" , 77.19 , -66.85 ],
[ 84 , "OPEN CLUSTERS" , "LMC Cluster" , "NGC 1962" , "05:27:00.0 -68:51:00" , 81.75 , -66.85 ],
[ 85 , "OPEN CLUSTERS" , "Melotte 156" , "NGC 6253" , "16:59:04.8 -52:42:00" , 254.77 , -51.12 ],
[ 86 , "OPEN CLUSTERS" , "Melotte 91" , "NGC 2659" , "08:42:36 -44:59:01" , 130.65 , -43.25 ],
[ 87 , "OPEN CLUSTERS" , "Melotte 93" , "NGC 2670" , "08:45:30.0 -48:48:00" , 131.38 , -47.19 ],
[ 88 , "OPEN CLUSTERS" , "Melotte 97" , "IC 2488" , "09:27:38.0 -57:00:00" , 141.91 , -56.03 ],
[ 89 , "OPEN CLUSTERS" , "Omicron Vela Cluster" , "IC 2391" , "08:40:32.0 -53:02:00" , 130.13 , -52.10 ],
[ 90 , "OPEN CLUSTERS" , "Open Cluster Harvard 3" , "NGC 2669" , "08:46:22.0 -52:56:54" , 131.59 , -51.12 ],
[ 91 , "OPEN CLUSTERS" , "Open Cluster Harvard 7" , "Trumpler 20" , "12:39:34 60:37:00" , 189.89 , 61.02 ],
[ 92 , "OPEN CLUSTERS" , "Open Cluster" , "IC 2581" , "10:27:29.0 -57:37:00" , 156.87 , -56.03 ],
[ 93 , "OPEN CLUSTERS" , "Open Cluster" , "IC 4651" , "17:24:49.0 -49:56:00" , 261.20 , -48.17 ],
[ 94 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 2477" , "07:52:10.0 -38:31:48" , 118.04 , -37.36 ],
[ 95 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 2910" , "09:30:30 -52:55:04" , 142.62 , -51.12 ],
[ 96 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 3572" , "11:10:23.0 -60:14:54" , 167.60 , -58.98 ],
[ 97 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 4337" , "12:24:00.0 -58:07:01" , 186.00 , -57.02 ],
[ 98 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 4463" , "12:29:56.0 -64:47:24" , 187.48 , -62.92 ],
[ 99 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 4815" , "12:58:01.2 -64:57:36" , 194.50 , -62.92 ],
[ 100 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 5281" , "13:46:35.0 -62:55:00" , 206.65 , -60.95 ],
[ 101 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 6250" , "16:57:58.0 -45:56:36" , 254.49 , -44.24 ],
[ 102 , "OPEN CLUSTERS" , "Open Cluster" , "NGC 796" , "01:56:44.0 -74:13:12" , 29.18 , -72.75 ],
[ 103 , "OPEN CLUSTERS" , "Open Star Cluster" , "M18" , "18:19:58.0 -17:06:06" , 274.99 , -16.71 ],
[ 104 , "OPEN CLUSTERS" , "Open Star Cluster" , "M21" , "18:04:13.0 -22:29:24" , 271.05 , -21.63 ],
[ 105 , "OPEN CLUSTERS" , "Open Star Cluster" , "M23" , "17:57:04.0 -18:59:06" , 269.27 , -17.70 ],
[ 106 , "OPEN CLUSTERS" , "Open Star Cluster" , "M25" , "18:31:47.0 -19:07:00" , 277.95 , -18.68 ],
[ 107 , "OPEN CLUSTERS" , "Open Star Cluster" , "M26" , "18:45:18.0 -09:23:00" , 281.32 , -8.85 ],
[ 108 , "OPEN CLUSTERS" , "Open Star Cluster" , "M35" , "06:08:54.0 +24:20:00" , 92.22 , 24.41 ],
[ 109 , "OPEN CLUSTERS" , "Open Star Cluster" , "M47" , "07:36:35.0 -14:29:00" , 114.15 , -13.76 ],
[ 110 , "OPEN CLUSTERS" , "Open Star Cluster" , "M50" , "07:02:47.50 -08:20:16.0" , 105.70 , -7.86 ],
[ 111 , "OPEN CLUSTERS" , "Open Star Cluster" , "M73" , "20:59:00 -12:38:01" , 314.75 , -11.80 ],
[ 112 , "OPEN CLUSTERS" , "Pearl Cluster" , "NGC 3766" , "11:36:18.0 -61:36:54" , 174.08 , -59.97 ],
[ 113 , "OPEN CLUSTERS" , "Pleiades Star Cluster" , "M45" , "03:47:00.0 +24:07:00" , 56.75 , 24.41 ],
[ 114 , "OPEN CLUSTERS" , "Ptolemy's Star Cluster" , "M7" , "17:53:51.0 -34:47:36" , 268.46 , -33.42 ],
[ 115 , "OPEN CLUSTERS" , "Running Man Cluster" , "NGC 1545" , "04:20:57.0 +50:15:12" , 65.24 , 50.85 ],
[ 116 , "OPEN CLUSTERS" , "S Normae Cluster" , "NGC 6087" , "16:18:50.0 -57:56:06" , 244.71 , -56.03 ],
[ 117 , "OPEN CLUSTERS" , "SMC Cluster Dunlop 23" , "NGC 330" , "00:56:20.59 -72:27:12.4" , 14.09 , -70.78 ],
[ 118 , "OPEN CLUSTERS" , "SMC Cluster Dunlop 25" , "NGC 346" , "00:59:05.08 -72:10:33.2" , 14.77 , -70.78 ],
[ 119 , "OPEN CLUSTERS" , "SMC Cluster Dunlop 31" , "NGC 371" , "01:03:25.0 -72:04:24" , 15.85 , -70.78 ],
[ 120 , "OPEN CLUSTERS" , "SMC Cluster" , "NGC 602" , "01:29:32.13 -73:33:38.1" , 22.38 , -71.76 ],
[ 121 , "OPEN CLUSTERS" , "Southern Pleiades" , "IC 2602" , "10:42:58.0 -64:24:00" , 160.74 , -62.92 ],
[ 122 , "OPEN CLUSTERS" , "Starfish Star Cluster" , "M93" , "07:44:30.0 -23:51:24" , 116.12 , -22.61 ],
[ 123 , "OPEN CLUSTERS" , "The Gem Cluster" , "NGC 3293" , "10:35:49.2 -58:13:48" , 158.95 , -57.02 ],
[ 124 , "OPEN CLUSTERS" , "Velvet Star Cluster" , "M46" , "07:41:46.0 -14:48:36" , 115.44 , -13.76 ],
[ 125 , "OPEN CLUSTERS" , "Westerlund 2" , "NGC 3247" , "10:23:58.09 -57:45:48.9" , 155.99 , -56.03 ],
[ 126 , "OPEN CLUSTERS" , "Wild Duck Star Cluster" , "M11" , "18:51:05.0 -06:16:12" , 282.77 , -5.90 ],
[ 127 , "OPEN CLUSTERS" , "Wishing Well Cluster" , "NGC 3532" , "11:05:39.0 -58:45:12" , 166.41 , -57.02 ],
[ 128 , "OPEN CLUSTERS" , "vdB-Hagen 47" , "IC 2395" , "08:42:31.00 -48:06:00.0" , 130.63 , -47.19 ],
[ 129 , "GLOBULAR CLUSTERS" , "47 Tucanae" , "NGC 104" , "00:24:05.35 -72:04:53.1" , 6.02 , -70.78 ],
[ 130 , "GLOBULAR CLUSTERS" , "Baade's Window" , "NGC 6522" , "18:03:31 -30:01:15" , 270.88 , -29.49 ],
[ 131 , "GLOBULAR CLUSTERS" , "Bennett 32" , "NGC 1851" , "05:14:06.76 -40:02:47.6" , 78.53 , -39.32 ],
[ 132 , "GLOBULAR CLUSTERS" , "Bennett 41" , "NGC 2808" , "09:12:03.10 -64:51:48.6" , 138.01 , -62.92 ],
[ 133 , "GLOBULAR CLUSTERS" , "Bennett 44" , "NGC 3201" , "10:17:36.82 -46:24:44.8" , 154.40 , -45.22 ],
[ 134 , "GLOBULAR CLUSTERS" , "Bennett 74" , "NGC 6101" , "16:25:48.12 -72:12:07.8" , 246.45 , -70.78 ],
[ 135 , "GLOBULAR CLUSTERS" , "Caldwell 104" , "NGC 362" , "01:03:14.26 -70:50:55.6" , 15.81 , -68.81 ],
[ 136 , "GLOBULAR CLUSTERS" , "Caldwell 84" , "NGC 5286" , "13:46:26.80 -51:22:27.3" , 206.61 , -50.14 ],
[ 137 , "GLOBULAR CLUSTERS" , "Caldwell 87" , "NGC 1261" , "03:12:16.21 -55:12:58.3" , 48.07 , -54.07 ],
[ 138 , "GLOBULAR CLUSTERS" , "Dunlop 164" , "NGC 4833" , "12:59:33.91 -70:52:35.3" , 194.89 , -68.81 ],
[ 139 , "GLOBULAR CLUSTERS" , "Dunlop 225" , "NGC 6362" , "17:31:54.99 -67:02:53.9" , 262.98 , -65.86 ],
[ 140 , "GLOBULAR CLUSTERS" , "Dunlop 366" , "NGC 6397" , "17:40:42.08 -53:40:27.5" , 265.18 , -52.10 ],
[ 141 , "GLOBULAR CLUSTERS" , "Dunlop 376" , "NGC 6584" , "18:18:37.60 -52:12:56.8" , 274.66 , -51.12 ],
[ 142 , "GLOBULAR CLUSTERS" , "Dunlop 389" , "NGC 5927" , "15:28:00.69 -50:40:22.9" , 232.00 , -49.15 ],
[ 143 , "GLOBULAR CLUSTERS" , "Dunlop 417" , "NGC 6352" , "17:25:29.11 -48:25:19.8" , 261.37 , -47.19 ],
[ 144 , "GLOBULAR CLUSTERS" , "Dunlop 457" , "NGC 6388" , "17:36:17.46 -44:44:08.3" , 264.07 , -43.25 ],
[ 145 , "GLOBULAR CLUSTERS" , "Dunlop 473" , "NGC 6541" , "18:08:02.35 -43:42:53.6" , 272.01 , -42.27 ],
[ 146 , "GLOBULAR CLUSTERS" , "Dunlop 67" , "NGC 4372" , "12:25:45.43 -72:39:32.6" , 186.44 , -70.78 ],
[ 147 , "GLOBULAR CLUSTERS" , "Globular Cluster" , "NGC 5946" , "15:35:28.57 -50:39:34.9" , 233.87 , -49.15 ],
[ 148 , "GLOBULAR CLUSTERS" , "Globular Cluster" , "NGC 6496" , "17:59:03.67 -44:15:57.3" , 269.77 , -43.25 ],
[ 149 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M107" , "16:32:31.86 -13:03:13.6" , 248.13 , -12.78 ],
[ 150 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M14" , "17:37:36.15 -03:14:45.3" , 264.40 , -2.95 ],
[ 151 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M15" , "21:29:58.33 +12:10:01.2" , 322.49 , 12.20 ],
[ 152 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M19" , "17:02:37.69 -26:16:04.5" , 255.66 , -25.56 ],
[ 153 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M2" , "21:33:27.01 -00:49:23.7" , 323.36 , 0.00 ],
[ 154 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M22" , "18:36:23.93 -23:54:17.1" , 279.10 , -22.61 ],
[ 155 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M28" , "18:24:32.89 -24:52:11.3" , 276.14 , -23.59 ],
[ 156 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M30" , "21:40:22.12 -23:10:47.4" , 325.09 , -22.61 ],
[ 157 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M4" , "16:23:35.22 -26:31:32.7" , 245.90 , -25.56 ],
[ 158 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M5" , "15:18:33.22 +02:04:51.7" , 229.64 , 2.03 ],
[ 159 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M53" , "13:12:55.24 +18:10:05.4" , 198.23 , 18.30 ],
[ 160 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M54" , "18:55:03.33 -30:28:47.4" , 283.76 , -29.49 ],
[ 161 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M55" , "19:39:59.71 -30:57:53.1" , 295.00 , -29.49 ],
[ 162 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M62" , "17:01:12.60 -30:06:44.4" , 255.30 , -29.49 ],
[ 163 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M68" , "12:39:27.97 -26:44:38.6" , 189.87 , -25.56 ],
[ 164 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M69" , "18:31:23.10 -32:20:53.0" , 277.85 , -31.46 ],
[ 165 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M70" , "18:43:12.76 -32:17:31.5" , 280.80 , -31.46 ],
[ 166 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M71" , "19:53:46.48 +18:46:45.0" , 298.44 , 18.30 ],
[ 167 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M72" , "20:53:27.70 -12:32:14.3" , 313.37 , -11.80 ],
[ 168 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M75" , "20:06:04.84 -21:55:20.1" , 301.52 , -20.64 ],
[ 169 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M79" , "05:24:10.58 -24:31:27.3" , 81.04 , -23.59 ],
[ 170 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M80" , "16:17:02.41 -22:58:33.8" , 244.26 , -21.63 ],
[ 171 , "GLOBULAR CLUSTERS" , "Globular Star Cluster" , "M9" , "17:19:11.77 -18:30:58.5" , 259.80 , -17.70 ],
[ 172 , "GLOBULAR CLUSTERS" , "LMC Cluster Bennett 28" , "NGC 1783" , "04:59:08.59 -65:59:15.8" , 74.79 , -63.90 ],
[ 173 , "GLOBULAR CLUSTERS" , "LMC Cluster" , "NGC 1466" , "03:44:33.0 -71:40:18" , 56.14 , -69.80 ],
[ 174 , "GLOBULAR CLUSTERS" , "Mirror Ball Star Cluster" , "M10" , "16:57:09.04 -04:06:01.1" , 254.29 , -3.93 ],
[ 175 , "GLOBULAR CLUSTERS" , "Omega Centauri" , "NGC 5139" , "13:26:47.28 -47:28:46.0" , 201.70 , -46.20 ],
[ 176 , "GLOBULAR CLUSTERS" , "Pavo Globular" , "NGC 6752" , "19:10:52.11 -59:59:04.4" , 287.72 , -58.00 ],
[ 177 , "GLOBULAR CLUSTERS" , "SMC Cluster" , "NGC 419" , "01:08:17.78 -72:53:02.7" , 17.07 , -70.78 ],
[ 178 , "GLOBULAR CLUSTERS" , "Snowball Star Cluster" , "M12" , "16:47:14.17 -01:56:54.7" , 251.81 , -0.98 ],
[ 179 , "GLOBULAR CLUSTERS" , "Virgo Globular" , "NGC 5634" , "14:29:37.27 -05:58:35.1" , 217.41 , -4.92 ],
[ 180 , "EMISSION NEBULAE" , "Cat's Paw Nebula" , "NGC 6334" , "17:20:50.9 -36:06:54" , 260.21 , -35.39 ],
[ 181 , "EMISSION NEBULAE" , "Cone Nebula" , "NGC 2264" , "06:41:06 +09:53:01" , 100.28 , 9.15 ],
[ 182 , "EMISSION NEBULAE" , "De Mairan's Nebula", "M43", "05:35:31.0 -05:16:12" , 83.88 , -4.92 ],
[ 183 , "EMISSION NEBULAE" , "Eagle Nebula" , "M16" , "18:18:48.0 -13:48:24" , 274.70 , -12.78 ],
[ 184 , "EMISSION NEBULAE" , "Emission Nebula" , "NGC 3199" , "10:16:32.80 -57:56:02.0" , 154.14 , -56.03 ],
[ 185 , "EMISSION NEBULAE" , "Eta Carinae Nebula" , "NGC 3372" , "10:44:19.00 -59:53:21.0" , 161.08 , -58.00 ],
[ 186 , "EMISSION NEBULAE" , "Flame Nebula" , "NGC 2024" , "05:41:42.70 -01:54:43.9" , 85.43 , -0.98 ],
[ 187 , "EMISSION NEBULAE" , "Flaming Star Nebula" , "IC 405" , "05:17:24 +34:23:01" , 79.35 , 34.58 ],
[ 188 , "EMISSION NEBULAE" , "Gabriela Mistral Nebula" , "NGC 3324" , "10:37:20 -58:38:30" , 159.33 , -57.02 ],
[ 189 , "EMISSION NEBULAE" , "LMC Nebula Bennett 27" , "NGC 1763" , "04:56:51.49 -66:24:24.9" , 74.21 , -64.88 ],
[ 190 , "EMISSION NEBULAE" , "LMC Nebula" , "NGC 2018" , "05:31:23.99 -71:04:23.9" , 82.85 , -69.80 ],
[ 191 , "EMISSION NEBULAE" , "LMC Nebula" , "NGC 2074" , "05:39:03.0 -69:29:54" , 84.76 , -67.83 ],
[ 192 , "EMISSION NEBULAE" , "LMC Nebula" , "NGC 2075" , "05:38:21.25 -70:41:06.1" , 84.59 , -68.81 ],
[ 193 , "EMISSION NEBULAE" , "Lagoon Nebula" , "M8" , "18:03:37.0 -24:23:12" , 270.90 , -23.59 ],
[ 194 , "EMISSION NEBULAE" , "Lambda Centauri Nebula" , "IC 2944" , "11:38:19.99 -63:22:22.0" , 174.58 , -61.93 ],
[ 195 , "EMISSION NEBULAE" , "Monkey Head Nebula" , "NGC 2174" , "06:09:42 +20:30:03" , 92.43 , 20.34 ],
[ 196 , "EMISSION NEBULAE" , "Nebulae Complex RCW 57" , "NGC 3576" , "11:11:49.80 -61:18:14.0" , 167.96 , -59.97 ],
[ 197 , "EMISSION NEBULAE" , "Orion Nebula" , "M42" , "05:35:17.29 -05:23:27.9" , 83.82 , -4.92 ],
[ 198 , "EMISSION NEBULAE" , "Prawn Nebula" , "IC 4628" , "16:56:54.67 -40:30:44.4" , 254.23 , -39.32 ],
[ 199 , "EMISSION NEBULAE" , "Rim Nebula" , "NGC 6188" , "16:40:00.0 -48:30:00" , 250.00 , -47.19 ],
[ 200 , "EMISSION NEBULAE" , "Swan Nebula" , "M17" , "18:20:47.0 -16:10:18" , 275.20 , -15.73 ],
[ 201 , "EMISSION NEBULAE" , "Tarantula Nebula" , "NGC 2070" , "05:38:36.00 -69:05:11.0" , 84.65 , -67.83 ],
[ 202 , "EMISSION NEBULAE" , "Trifid Nebula" , "M20" , "18:02:42.0 -22:58:18" , 270.68 , -21.63 ],
[ 203 , "EMISSION NEBULAE" , "Unusual Nebula" , "NGC 6164" , "16:33:52.38 -48:06:40.4" , 248.47 , -47.19 ],
[ 204 , "REFLECTION NEBULAE" , "Embedded Reflection Nebula" , "NGC 2626" , "08:35:32.0 -40:40:18" , 128.88 , -39.32 ],
[ 205 , "REFLECTION NEBULAE" , "Hubble's Variable Nebula" , "NGC 2261" , "06:39:09.95 +08:44:09.5" , 99.79 , 8.14 ],
[ 206 , "REFLECTION NEBULAE" , "Reflection Nebula" , "IC 2966" , "11:50:12.60 -64:52:18.9" , 177.55 , -62.92 ],
[ 207 , "REFLECTION NEBULAE" , "Reflection Nebula" , "M78" , "05:46:45.79 +00:04:45.0" , 86.69 , 0.00 ],
[ 208 , "REFLECTION NEBULAE" , "Reflection Nebula" , "NGC 5367" , "13:57:44.0 -39:58:48" , 209.43 , -38.34 ],
[ 209 , "REFLECTION NEBULAE" , "Running Man Nebula" , "NGC 1977" , "05:35:16.2 -04:47:07" , 83.82 , -3.93 ],
[ 210 , "REFLECTION NEBULAE" , "Toby Jug Nebula" , "IC 2220" , "07:56:51.30 -59:07:31.0" , 119.21 , -58.00 ],
[ 211 , "DARK NEBULAE" , "Coal Sack Nebula" , "Caldwell 99" , "12:52:19 -62:25:28" , 193.08 , -60.95 ],
[ 212 , "DARK NEBULAE" , "Dark Doodad" , "DCLD 301.0-08.6" , "12:27:31 -71:25:12" , 186.88 , -69.80 ],
[ 213 , "DARK NEBULAE" , "Horsehead Nebula" , "Barnard 33" , "05:40:58.99 -02:27:29.9" , 85.25 , -1.97 ],
[ 214 , "DARK NEBULAE" , "Inkspot Nebula" , "Barnard 86" , "18:02:58.0 -27:52:06" , 270.74 , -26.54 ],
[ 215 , "DARK NEBULAE" , "Molecular Cloud Nebula" , "Barnard 68" , "17:22:38.2 -23:49:34" , 260.66 , -22.61 ],
[ 216 , "PLANETARY NEBULAE" , "Blue Planetary" , "NGC 3918" , "11:50:17.77 -57:10:57.0" , 177.57 , -56.03 ],
[ 217 , "PLANETARY NEBULAE" , "Bug Nebula" , "NGC 6302" , "17:13:44.33 -37:06:10.9" , 258.43 , -36.37 ],
[ 218 , "PLANETARY NEBULAE" , "Caldwell 109" , "NGC 3195" , "10:09:20.90 -80:51:30.7" , 152.34 , -78.64 ],
[ 219 , "PLANETARY NEBULAE" , "Cetus Bubble Nebula" , "NGC 246" , "00:47:03.33 -11:52:18.9" , 11.76 , -10.81 ],
[ 220 , "PLANETARY NEBULAE" , "Cleopatra's Eye" , "NGC 1535" , "04:14:15.76 -12:44:21.9" , 63.57 , -11.80 ],
[ 221 , "PLANETARY NEBULAE" , "Dumbbell Nebula" , "M27" , "19:59:36.36 +22:43:16.3" , 299.90 , 22.37 ],
[ 222 , "PLANETARY NEBULAE" , "Dunlop 447" , "NGC 5882" , "15:16:49.95 -45:38:58.6" , 229.21 , -44.24 ],
[ 223 , "PLANETARY NEBULAE" , "Dunlop 564A" , "NGC 2818" , "09:16:01.48 -36:37:37.5" , 139.01 , -35.39 ],
[ 224 , "PLANETARY NEBULAE" , "Eight-Burst Nebula" , "NGC 3132" , "10:07:01.76 -40:26:11.1" , 151.76 , -39.32 ],
[ 225 , "PLANETARY NEBULAE" , "Eskimo Nebula" , "NGC 2392" , "07:29:10.76 +20:54:42.4" , 112.29 , 20.34 ],
[ 226 , "PLANETARY NEBULAE" , "Fleming 96" , "IC 4642" , "17:11:45.20 -55:24:01.6" , 257.94 , -54.07 ],
[ 227 , "PLANETARY NEBULAE" , "Fleming 98" , "IC 4699" , "18:18:32.04 -45:59:01.7" , 274.63 , -44.24 ],
[ 228 , "PLANETARY NEBULAE" , "Ghost of Jupiter" , "NGC 3242" , "10:24:46.13 -18:38:32.2" , 156.19 , -17.70 ],
[ 229 , "PLANETARY NEBULAE" , "Helix Nebula" , "NGC 7293" , "22:29:38.54 -20:50:13.7" , 337.41 , -19.66 ],
[ 230 , "PLANETARY NEBULAE" , "Little Gem Nebula" , "NGC 6818" , "19:43:58.02 -14:09:13.4" , 295.99 , -13.76 ],
[ 231 , "PLANETARY NEBULAE" , "Planetary Nebula" , "NGC 2792" , "09:12:26.56 -42:25:38.9" , 138.11 , -41.29 ],
[ 232 , "PLANETARY NEBULAE" , "Planetary Nebula" , "NGC 6326" , "17:20:46.25 -51:45:15.1" , 260.19 , -50.14 ],
[ 233 , "PLANETARY NEBULAE" , "Powder Blue Nebula" , "NGC 5979" , "15:47:41.16 -61:13:05.5" , 236.92 , -59.97 ],
[ 234 , "PLANETARY NEBULAE" , "Retina Nebula" , "IC 4406" , "14:22:26.14 -44:09:02.2" , 215.61 , -43.25 ],
[ 235 , "PLANETARY NEBULAE" , "Saturn Nebula" , "NGC 7009" , "21:04:10.81 -11:21:48.5" , 316.05 , -10.81 ],
[ 236 , "PLANETARY NEBULAE" , "Spare Tyre Nebula" , "IC 5148" , "21:59:35.20 -39:23:08.0" , 329.90 , -38.34 ],
[ 237 , "PLANETARY NEBULAE" , "Spiral Nebula" , "NGC 5189" , "13:33:32.87 -65:58:27.0" , 203.39 , -63.90 ],
[ 238 , "PLANETARY NEBULAE" , "Thumbprint Nebula" , "NGC 4071" , "12:44:55.60 -78:48:15.9" , 191.23 , -76.68 ],
[ 239 , "PLANETARY NEBULAE" , "Vela Planetary Nebula" , "NGC 2899" , "09:27:03.01 -56:06:21.0" , 141.76 , -55.05 ],
[ 240 , "SPIRAL GALAXIES" , "Antennae Galaxies" , "NGC 4038" , "12:01:53.00 -18:52:03.3" , 180.47 , -17.70 ],
[ 241 , "SPIRAL GALAXIES" , "Bennett 1" , "NGC 55" , "00:14:53.60 -39:11:47.8" , 3.72 , -38.34 ],
[ 242 , "SPIRAL GALAXIES" , "Bennett 12" , "NGC 1291" , "03:17:18.60 -41:06:29.0" , 49.33 , -40.31 ],
[ 243 , "SPIRAL GALAXIES" , "Bennett 21" , "NGC 1433" , "03:42:01.55 -47:13:19.4" , 55.51 , -46.20 ],
[ 244 , "SPIRAL GALAXIES" , "Bennett 21a" , "NGC 1512" , "04:03:54.28 -43:20:55.8" , 60.98 , -42.27 ],
[ 245 , "SPIRAL GALAXIES" , "Bennett 25" , "NGC 1566" , "04:20:00.40 -54:56:16.5" , 65.00 , -53.09 ],
[ 246 , "SPIRAL GALAXIES" , "Bennett 25a" , "NGC 1617" , "04:31:39.53 -54:36:08.1" , 67.91 , -53.09 ],
[ 247 , "SPIRAL GALAXIES" , "Bennett 26" , "NGC 1672" , "04:45:42.55 -59:14:50.6" , 71.43 , -58.00 ],
[ 248 , "SPIRAL GALAXIES" , "Bennett 41B" , "NGC 2997" , "09:45:38.75 -31:11:27.3" , 146.41 , -30.47 ],
[ 249 , "SPIRAL GALAXIES" , "Black-Eye Galaxy" , "M64" , "12:56:43.69 +21:40:57.5" , 194.18 , 21.36 ],
[ 250 , "SPIRAL GALAXIES" , "Blue Spiral Galaxy" , "NGC 1232" , "03:09:45.51 -20:34:45.4" , 47.44 , -19.66 ],
[ 251 , "SPIRAL GALAXIES" , "Butterfly Galaxies" , "NGC 4568" , "12:36:34.3 +11:14:19.1" , 189.14 , 11.19 ],
[ 252 , "SPIRAL GALAXIES" , "Caldwell 36" , "NGC 4559" , "12:35:57.63 +27:57:35.8" , 188.99 , 27.46 ],
[ 253 , "SPIRAL GALAXIES" , "Caldwell 83" , "NGC 4945" , "13:05:27.27 -49:28:04.4" , 196.36 , -48.17 ],
[ 254 , "SPIRAL GALAXIES" , "Discus Galaxy" , "NGC 4216" , "12:15:54.44 +13:08:57.8" , 183.98 , 13.22 ],
[ 255 , "SPIRAL GALAXIES" , "Dunlop 262" , "NGC 6744" , "19:09:46.09 -63:51:27.1" , 287.44 , -61.93 ],
[ 256 , "SPIRAL GALAXIES" , "Dunlop 469" , "NGC 5643" , "14:32:40.77 -44:10:28.5" , 218.17 , -43.25 ],
[ 257 , "SPIRAL GALAXIES" , "Dunlop 475" , "NGC 7552" , "23:16:10.76 -42:35:05.3" , 349.04 , -41.29 ],
[ 258 , "SPIRAL GALAXIES" , "Edge-On Spiral Galaxy" , "NGC 4565" , "12:36:20.80 +25:59:14.6" , 189.09 , 25.42 ],
[ 259 , "SPIRAL GALAXIES" , "Flocculent Spiral Galaxy" , "NGC 4414" , "12:26:27.08 +31:13:24.7" , 186.61 , 31.53 ],
[ 260 , "SPIRAL GALAXIES" , "Grand Design Galaxy" , "M74" , "01:36:41.77 +15:47:00.4" , 24.17 , 15.25 ],
[ 261 , "SPIRAL GALAXIES" , "Great Barred Spiral Galaxy" , "NGC 1365" , "03:33:36.45 -36:08:26.3" , 53.40 , -35.39 ],
[ 262 , "SPIRAL GALAXIES" , "Grus Quartet" , "NGC 7582" , "23:16:10.80 -42:35:04.9" , 349.04 , -41.29 ],
[ 263 , "SPIRAL GALAXIES" , "Meathook Galaxy" , "NGC 2442" , "07:36:23.84 -69:31:50.9" , 114.10 , -67.83 ],
[ 264 , "SPIRAL GALAXIES" , "Oriani's Galaxy" , "M61" , "12:21:54.92 +04:28:25.5" , 185.48 , 4.07 ],
[ 265 , "SPIRAL GALAXIES" , "S Galaxy" , "NGC 2903" , "09:32:10.11 +21:30:02.9" , 143.04 , 21.36 ],
[ 266 , "SPIRAL GALAXIES" , "Sculptor Spiral Galaxy" , "NGC 300" , "00:54:53.44 -37:41:03.1" , 13.72 , -36.37 ],
[ 267 , "SPIRAL GALAXIES" , "Silver Coin Galaxy" , "NGC 253" , "00:47:33.13 -25:17:19.6" , 11.89 , -24.58 ],
[ 268 , "SPIRAL GALAXIES" , "Sombrero Galaxy" , "M104" , "12:39:59.43 -11:37:22.9" , 190.00 , -10.81 ],
[ 269 , "SPIRAL GALAXIES" , "Southern Pinwheel Galaxy" , "M83" , "13:37:00.91 -29:51:56.7" , 204.25 , -28.51 ],
[ 270 , "SPIRAL GALAXIES" , "Spider Web Galaxy" , "NGC 3521" , "11:05:48.56 -00:02:09.2" , 166.45 , 0.00 ],
[ 271 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "IC 5052" , "20:52:01.63 -69:11:35.9" , 313.01 , -67.83 ],
[ 272 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M100" , "12:22:54.93 +15:49:20.2" , 185.73 , 15.25 ],
[ 273 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M58" , "12:37:43.59 +11:49:05.1" , 189.43 , 11.19 ],
[ 274 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M65" , "11:18:55.95 +13:05:31.9" , 169.73 , 13.22 ],
[ 275 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M66" , "11:20:15.02 +12:59:28.6" , 170.06 , 12.20 ],
[ 276 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M88" , "12:31:59.21 +14:25:13.4" , 188.00 , 14.24 ],
[ 277 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M90" , "12:36:49.81 +13:09:46.3" , 189.21 , 13.22 ],
[ 278 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M91" , "12:35:26.43 +14:29:46.7" , 188.86 , 14.24 ],
[ 279 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M95" , "10:43:57.73 +11:42:12.9" , 160.99 , 11.19 ],
[ 280 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M96" , "10:46:45.74 +11:49:11.7" , 161.69 , 11.19 ],
[ 281 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M98" , "12:13:48.29 +14:54:01.6" , 183.45 , 14.24 ],
[ 282 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "M99" , "12:18:49.62 +14:24:59.3" , 184.71 , 14.24 ],
[ 283 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 1249" , "03:10:01.21 -53:20:09.0" , 47.51 , -52.10 ],
[ 284 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 1448" , "03:44:31.91 -44:38:41.3" , 56.13 , -43.25 ],
[ 285 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 1515" , "04:04:02.67 -54:06:00.5" , 61.01 , -53.09 ],
[ 286 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 1559" , "04:17:35.75 -62:47:01.2" , 64.40 , -60.95 ],
[ 287 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 2310" , "06:53:53.98 -40:51:45.7" , 103.47 , -39.32 ],
[ 288 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 2397" , "07:21:19.89 -69:00:05.0" , 110.33 , -67.83 ],
[ 289 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 5833" , "15:11:53.76 -72:51:33.6" , 227.97 , -70.78 ],
[ 290 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 5967" , "15:48:15.85 -75:40:22.4" , 237.07 , -73.73 ],
[ 291 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 691" , "01:50:41.70 +21:45:35.8" , 27.67 , 21.36 ],
[ 292 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 7090" , "21:36:28.86 -54:33:26.3" , 324.12 , -53.09 ],
[ 293 , "SPIRAL GALAXIES" , "Spiral Galaxy" , "NGC 7205" , "22:08:34.27 -57:26:33.1" , 332.14 , -56.03 ],
[ 294 , "SPIRAL GALAXIES" , "Topsy-Turvy Galaxy" , "NGC 1313" , "03:18:16.04 -66:29:53.7" , 49.57 , -64.88 ],
[ 295 , "SPIRAL GALAXIES" , "UFO Galaxy" , "NGC 2683" , "08:52:41.34 +33:25:18.4" , 133.17 , 33.56 ],
[ 296 , "SPIRAL GALAXIES" , "Whale Galaxy" , "NGC 4631" , "12:42:08.00 +32:32:29.4" , 190.53 , 32.54 ],
[ 297 , "ELLIPTICAL GALAXIES" , "Bennett 23" , "NGC 1549" , "04:15:45.22 -55:35:32.4" , 63.94 , -54.07 ],
[ 298 , "ELLIPTICAL GALAXIES" , "Bennett 24" , "NGC 1553" , "04:16:10.47 -55:46:48.1" , 64.04 , -54.07 ],
[ 299 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M105" , "10:47:49.60 +12:34:53.8" , 161.96 , 12.20 ],
[ 300 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M49" , "12:29:46.79 +08:00:01.4" , 187.44 , 8.14 ],
[ 301 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M59" , "12:42:02.32 +11:38:48.9" , 190.51 , 11.19 ],
[ 302 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M60" , "12:43:40.00 +11:33:09.3" , 190.92 , 11.19 ],
[ 303 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "M89" , "12:35:39.81 +12:33:22.6" , 188.92 , 12.20 ],
[ 304 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "NGC 4976" , "13:08:37.52 -49:30:23.0" , 197.16 , -48.17 ],
[ 305 , "ELLIPTICAL GALAXIES" , "Elliptical Galaxy" , "NGC 5102" , "13:21:57.60 -36:37:48.3" , 200.49 , -35.39 ],
[ 306 , "ELLIPTICAL GALAXIES" , "Giant Elliptical Galaxy" , "M87" , "12:30:49.42 +12:23:28.0" , 187.71 , 12.20 ],
[ 307 , "ELLIPTICAL GALAXIES" , "Lenticular Galaxy" , "M86" , "12:26:11.81 +12:56:45.4" , 186.55 , 12.20 ],
[ 308 , "ACTIVE GALAXIES" , "Centaurus A" , "NGC 5128" , "13:25:27.61 -43:01:08.8" , 201.37 , -42.27 ],
[ 309 , "ACTIVE GALAXIES" , "Cetus A Active Galaxy" , "M77" , "02:42:40.77 -00:00:47.8" , 40.67 , 0.00 ],
[ 310 , "ACTIVE GALAXIES" , "X Ray Galaxy" , "NGC 1097" , "02:46:19.05 -30:16:29.6" , 41.58 , -29.49 ],
[ 311 , "Galaxy Cluster Abell 3925" , "Abell 2877 Cluster" , "IC 1633" , "01:09:49.3 -45:54:02" , 17.46 , -44.24 ],
[ 312 , "Galaxy Cluster Abell 3925" , "Leo I Galaxy Group" , "M96" , "10:48:00 +13:18:00" , 162.00 , 13.22 ],
[ 313 , "Galaxy Cluster Abell 3925" , "Leo Triplet" , "M66" , "10:48:00.0 +13:18:00" , 162.00 , 13.22 ],
[ 314 , "Galaxy Cluster Abell 3925" , "Abell 3389 Cluster" , "NGC 2230" , "06:21:27.6 -64:59:34.10" , 95.37 , -62.92 ],
[ 315 , "NGC 6769 Trio" , "Robert's Quartet" , "NGC 88" , "00:21:22.13 -48:38:24.2" , 5.34 , -47.19 ],
[ 316 , "OTHER GALAXIES" , "Barnard's Galaxy" , "NGC 6822" , "19:44:56.19 -14:47:51.2" , 296.23 , -13.76 ],
[ 317 , "OTHER GALAXIES" , "Lenticular Galaxy" , "M84" , "12:25:03.74 +12:53:13.1" , 186.27 , 12.20 ],
[ 318 , "OTHER GALAXIES" , "Lenticular Galaxy" , "M85" , "12:25:24.05 +18:11:27.8" , 186.35 , 18.30 ],
[ 319 , "OTHER GALAXIES" , "Merging Galaxies" , "NGC 1487" , "03:55:46.50 -42:22:00.9" , 58.94 , -41.29 ]
];

    if (catSlooh500 == null) {
        catSlooh500 = A.catalog({name: 'Slooh 500', labelColumn: 'name', displayLabel: true, labelColor: '#cccccc', labelFont: '12px sans-serif'});
        addAladinCatalog(catSlooh500, slooh500Teide);
        addAladinCatalog(catSlooh500, slooh500Chile);
    }
}

// create select object
function createslooh500select(name, list)
{
    console.log("createslooh500select");
    
    var x = document.createElement("SELECT");
    x.setAttribute("id", name);

    for (var i = 0; i < list.length; i++) {
        if (i < 10) {
            console.log("list[i]", list[i]);
        }
        var y = document.createElement("option");
        y.setAttribute("value", list[i][0]);
        var t = document.createTextNode(list[i][1]);
        y.appendChild(t);
        x.appendChild(y);
    }
    return x;
}

// create list filtered by visibility during the night
function filtervisibleslooh500(list, lat, lng)
{
    var midnight;
    var aa1;
    var aa2;
    var aa3;
    var aa4;
    var aa5;
    var moonFilter = slooh500moonFilter;

    if (slooh500time == null) {
        console.log("filtervisibleslooh500:use whole night");
        var midday = UTCdate_ms + day_ms/2;
        var suntimes = sun_rise_set(midday, lat, lng, 0);
        midnight = suntimes.sunset + (suntimes.sunrise - suntimes.sunset) / 2;
    } else {
        console.log("filtervisibleslooh500:use specific time");
        midnight = UTCdate_ms + slooh500time;
    }
    var fl = [];
    var idx = [];
    fl[fl.length] = ['', ''];
    // if object altitude is above slooh500filter degrees in any of the following
    // points during the night we add it to list
    aa1 = object_altitude_init(midnight, lat, lng);
    var thisfilterdate = new Date(midnight);
    console.log("slooh500 filter date 1:", thisfilterdate.toUTCString());
    var moonpos = moon_position(midnight);
    // Check moon altitude at given time. If it is below horizon we do not filter with moon.
    var moonalt = object_altaz(midnight, moonpos.ra, moonpos.dec, lat, lng).alt;
    moonalt = moon_topocentric_correction(moonalt);
    if (moonalt < 0) {
        moonFilter = null;
    }
    if (slooh500time == null) {
        // no time filter, use also times 2 and 4 hours before and after midnight
        var d = midnight+2*hour_ms;
        aa2 = object_altitude_init(d, lat, lng);
        thisfilterdate = new Date(d);
        moonalt = object_altaz(d, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);
        if (moonalt < 0) {
            moonFilter = null;
        }
        console.log("slooh500 filter date 2:", thisfilterdate.toUTCString());
        d = midnight-2*hour_ms;
        aa3 = object_altitude_init(d, lat, lng);
        thisfilterdate = new Date(d);
        // check moon altitude at this time
        moonalt = object_altaz(d, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);
        if (moonalt < 0) {
            moonFilter = null;
        }
        console.log("slooh500 filter date 3:", thisfilterdate.toUTCString());
        var d = midnight+4*hour_ms;
        aa4 = object_altitude_init(d, lat, lng);
        thisfilterdate = new Date(d);
        moonalt = object_altaz(d, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);
        if (moonalt < 0) {
            moonFilter = null;
        }
        console.log("slooh500 filter date 4:", thisfilterdate.toUTCString());
        d = midnight-4*hour_ms;
        aa5 = object_altitude_init(d, lat, lng);
        thisfilterdate = new Date(d);
        moonalt = object_altaz(d, moonpos.ra, moonpos.dec, lat, lng).alt;
        moonalt = moon_topocentric_correction(moonalt);
        if (moonalt < 0) {
            moonFilter = null;
        }
        console.log("slooh500 filter date 5:", thisfilterdate.toUTCString());
    }
    for (var i = 0; i < list.length; i++) {
        var ra = list[i][5];
        var dec = list[i][6];
        var alt;
        var addToList = false;
        if (slooh500filter != null) {
            alt = object_altitude_get(aa1, ra, dec);
            if (slooh500time == null) {
                // no time filter, use also times 2 and 4 hours before and after midnight
                if (alt < slooh500filter) {
                    alt = object_altitude_get(aa2, ra, dec);
                }
                if (alt < slooh500filter) {
                    alt = object_altitude_get(aa3, ra, dec);
                }
                if (alt < slooh500filter) {
                    alt = object_altitude_get(aa4, ra, dec);
                }
                if (alt < slooh500filter) {
                    alt = object_altitude_get(aa5, ra, dec);
                }
            }
        }
        if (slooh500filter == null || alt >= slooh500filter) {
            // we passed altitude filter
            addToList = true;
            if (moonFilter != null) {
                // check for distance from moon
                var moon_angle = moon_distance(ra, dec, moonpos.ra, moonpos.dec);
                if (moon_angle < moonFilter) {
                    addToList = false;
                }
            }
        }
        if (addToList) {
            var item = [ list[i][4], list[i][1] + ' ' + list[i][2] + ' ' + list[i][3] ];
            fl[fl.length] = item;
            idx[idx.length] = i;
        }
    }
    return { list: fl, index: idx};
}

function initslooh500()
{
    var totalcount;

    console.log("initslooh500", telescope_location, slooh500location);

    if (telescope_location == slooh500location) {
        // no change
        console.log("initslooh500:no change");
        return;
    }

    wikiReset();
    slooh500_index = null;

    slooh500location = telescope_location;

    if (slooh500Teide == null) {
        console.log("initslooh500:not initialized");
        slooh500initlists();
    }

    if (slooh500select != null) {
        // remove old list
        console.log("initslooh500:remove old select list");
        document.getElementById("slooh500Div").removeChild(slooh500select);
        document.getElementById("slooh500Div").removeChild(slooh500text);
    }

    var list;
    if (slooh500location == 'teide') {
        console.log("initslooh500:teide");
        if (slooh500teidelist == null) {
            slooh500teidelist = filtervisibleslooh500(slooh500Teide, teide_location_lat, teide_location_lng);
        }
        list = slooh500teidelist.list;
        totalcount = slooh500Teide.length;
    } else {
        console.log("initslooh500:chile");
        if (slooh500chilelist == null) {
            slooh500chilelist = filtervisibleslooh500(slooh500Chile, chile_location_lat, chile_location_lng);
        }
        list = slooh500chilelist.list;
        totalcount = slooh500Chile.length;
    }

    slooh500select = createslooh500select('slooh500_select', list);
    slooh500select.onchange = function() { 
                                document.getElementById("target").value = slooh500select.value;
                                slooh500_index = slooh500select.selectedIndex;
                                if (slooh500_index == 0) {
                                    slooh500_index = null;
                                } else {
                                    slooh500_index = slooh500_index - 1;
                                }
                                ViewImage();
                            };

    document.getElementById("slooh500Div").appendChild(slooh500select);

    slooh500text = document.createTextNode(' ' + (list.length-1).toString() + '/' + totalcount.toString());
    document.getElementById("slooh500Div").appendChild(slooh500text);
}

function checkFilterChanged()
{
    var ret = false;
    var newvalue = document.getElementById("slooh500filter").value;
    var newfilter;
    if (newvalue == 'all') {
        newfilter = null;
    } else {
        newfilter = parseInt(newvalue);
    }
    if (slooh500filter != newfilter) {
        slooh500reset();
        slooh500filter = newfilter;
        console.log("filterChanged:slooh500filter", slooh500filter);
        ret = true;
    }
    newvalue = document.getElementById("slooh500moonFilter").value;
    if (newvalue == 'all') {
        newfilter = null;
    } else {
        newfilter = parseInt(newvalue);
    }
    if (slooh500moonFilter != newfilter) {
        slooh500reset();
        slooh500moonFilter = newfilter;
        console.log("filterChanged:slooh500moonFilter", slooh500moonFilter);
        ret = true;
    }
    return ret;
}

function filterChanged()
{
    if (checkFilterChanged()) {
        ViewImage();
    }
}

function checkFilterTimeChanged()
{
    var newvalue = document.getElementById("filter_time").value;
    var UTCtime_ms;
    console.log("checkFilterTimeChanged, time value", newvalue);
    if (newvalue == '') {
        UTCtime_ms = null;
        console.log("checkFilterTimeChanged, no time given");
    } else {
        var hhmm = newvalue.split(':');
        if (hhmm.length != 2) {
            document.getElementById(error_text).innerHTML = "Invalid ISO format time (HH:MM)";
            return;
        }
        UTCtime_ms = (parseInt(hhmm[0]) * 60 * 60 + parseInt(hhmm[1]) * 60) * 1000;
        if (UTCtime_ms == null) {
            document.getElementById(error_text).innerHTML = "Invalid ISO format time (HH:MM)";
            return;
        }
        console.log("checkFilterTimeChanged, time ", UTCtime_ms);
    }
    if (slooh500time != UTCtime_ms) {
        // time changed, reset slooh500 list
        console.log("checkFilterTimeChanged, time changed, reset slooh500");
        slooh500time = UTCtime_ms;
        slooh500reset();
        return true;
    } else {
        return false;
    }
}

function filterTimeChanged()
{
    if (checkFilterTimeChanged()) {
        ViewImage();
    }
}

function slooh500reset()
{
    slooh500location = '';
    slooh500teidelist = null;
    slooh500chilelist = null;
    slooh500_index = null;

    wikiReset();
}

var wikiIframe = null;

function wikiReset()
{
    if (wikiIframe != null) {
        if (wikiIframe.parentNode) {
            wikiIframe.parentNode.removeChild(wikiIframe);
        }
    }
    wikiIframe = null;
}

function getWikiContent(pageid)
{
    var url = "https://en.wikipedia.org/w/api.php?action=parse&origin=*&format=json&pageid=" + pageid;

    console.log("getWikiContent, pageid", pageid);

    document.getElementById(wiki_panel).style.height = "700px";
    document.getElementById(wiki_panel).style.width = wiki_panel_width;

    if (1) {
        // use IFRAME and mobile wiki page
        wikiReset();

        console.log("getWikiContent, create new IFRAME");
        wikiIframe = document.createElement("IFRAME");
        wikiIframe.width = wiki_frame_width;
        wikiIframe.height = 700;
        console.log("getWikiContent, set IFRAME src", "https://en.m.wikipedia.org/?curid="+pageid);
        wikiIframe.setAttribute("src", "https://en.m.wikipedia.org/?curid="+pageid);
        document.getElementById(wiki_panel).appendChild(wikiIframe);
        return;
    } else {
        // load wiki html data
        xmlhttp=new XMLHttpRequest();
        xmlhttp.onreadystatechange=function()
        {
            if (xmlhttp.readyState==4 && xmlhttp.status==200) {
                console.log('getWikiContent, get page content, response from HTTP GET: ', xmlhttp.responseText.substr(0, 80));
                var json = JSON.parse(xmlhttp.responseText);
                var pagecontent = json.parse.text["*"];
                if (pagecontent) {
                    var x = document.createElement("P");
                    x.innerHTML = pagecontent;
                    document.getElementById(wiki_panel).appendChild(x);
                } else {
                    document.getElementById(status_text).innerHTML = "Failed to get Wiki page content from json";
                }
            }
        }
        console.log('getWikiContent, send HTTP GET(' + url + ')');
        xmlhttp.open("GET", url, false);
        xmlhttp.send(); 
    }
}

function charIsNumber(c)
{
    return c >= '0' && c <= '9';
}

function reformatCheckName(target, prefix, name)
{
    var c = target.substr(0, prefix.length).toUpperCase();
    var cn = target.substr(prefix.length, 1);
    if (c == prefix.toUpperCase() && (cn == ' ' || charIsNumber(cn))) {
        return name + ' ' + target.substr(prefix.length);
    } else {
        return null;
    }

}

// reformat target name so it is more likely found from Wikipedia
function reformatTargetName(name)
{
    var newname = reformatCheckName(name, 'M', 'Messier');
    if (newname == null) {
        // ensure correct case
        newname = reformatCheckName(name, 'Messier', 'Messier');
    }
    if (newname == null) {
        newname = reformatCheckName(name, 'NGC', 'NGC');
    }
    if (newname == null) {
        newname = reformatCheckName(name, 'IC', 'IC');
    }
    if (newname == null) {
        newname = name;
    }
    newname = trim_spaces(newname);
    console.log("reformatTargetName", name, newname);

    return newname;
}

function showWiki()
{
    var url = "https://en.wikipedia.org/w/api.php?action=query&redirects&" +
              "format=json&formatversion=2&prop=revisions&origin=*&titles=";

    if (!document.getElementById("wikiCheckbox").checked) {
        console.log("showWiki:do not show");
        document.getElementById(wiki_panel).style.height = "0px";
        document.getElementById(wiki_panel).style.width = "0px";
        wikiReset();
        return;
    }
    console.log("showWiki");

    var wiki_target;
    var c = image_target.substr(0,1);
    if ((c >= '0' && c <= '9') || c == '-' || c == '+') {
        // numeric target, check if we have slooh target selected
        console.log("showWiki, numeric, try slooh500");
        if (slooh500_index != null) {
            var item;
            if (slooh500location == 'teide') {
                list = slooh500Teide[slooh500teidelist.index[slooh500_index]];
            } else {
                list = slooh500Chile[slooh500chilelist.index[slooh500_index]];
            }
            console.log("showWiki, use Slooh 500", list[3]);
            wiki_target = reformatTargetName(list[3]);
        } else {
            console.log("showWiki, no slooh500 target, remove wiki");
            if (wikiIframe != null) {
                //document.getElementById(wiki_panel).removeChild(wikiIframe);
                wikiIframe = null;
            }
            return;
        }
    } else {
        console.log("showWiki, use image_target", image_target);
        wiki_target = reformatTargetName(image_target);
    }

    xmlhttp=new XMLHttpRequest();
    xmlhttp.onreadystatechange=function()
    {
        if (xmlhttp.readyState==4 && xmlhttp.status==200) {
            console.log('showWiki, get page id, response from HTTP GET: ', xmlhttp.responseText.substr(0, 80));
            var json = JSON.parse(xmlhttp.responseText);
            var pageid = json.query.pages[0].pageid;
            if (pageid) {
                getWikiContent(pageid);
            } else {
                console.log("Failed to get Wiki page id from json");
                document.getElementById(status_text).innerHTML = "Failed to get Wiki page id from json";
            }
        }
    }
    var resolver_url = url + wiki_target.replace(/ /g, "%20");
    console.log('showWiki, send HTTP GET(' + resolver_url + ')');
    xmlhttp.open("GET", resolver_url, false);
    xmlhttp.send(); 
}

</script>
</body>
</html>